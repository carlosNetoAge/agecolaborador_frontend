import{d as w,a as d,p as V,R as X,l as c,q as e,F as f,x as D,A as z,C as B,o as l,L as I,E as i,N as F,_ as R,k as U,y as N,z as q,J as M,D as G,K as H,S as b,G as J,H as K}from"./index-BFSvuuMm.js";const j="/assets/morning-CSKRONwJ.png",Y="/assets/afternoon-CHR2RdtE.png",Q={class:"calendar"},W={class:"months"},Z=["onClick"],ee=["onClick"],ae={class:"dayName"},te={class:"dayNumber"},se={key:0,class:"dots-container"},ne=F('<div class="dot" data-v-d9fbd246></div><div class="dot" data-v-d9fbd246></div><div class="dot" data-v-d9fbd246></div><div class="dot" data-v-d9fbd246></div><div class="dot" data-v-d9fbd246></div>',5),oe=[ne],ce=w({__name:"CalendarOperational",props:{statusCalendar:Boolean},emits:["updateData"],setup(_,{emit:k}){const S=_,v=d({}),h=k,y=new Date,m=d(a(y)),g=d(y.getDate()),r=t=>{if(!t){t=new Date;const u=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0"),$=`${u}-${s}-${o}`;return h("updateData",$)}return h("updateData",t)},x=async()=>{B({method:"get",url:"https://v2.ageportal.agetelecom.com.br/integrator/aniel/capacity/calendar",headers:{"Content-Type":"application/json"}}).then(t=>{v.value=t.data,r(),T()})};function a(t){const u={month:"long"},s=t.toLocaleString("pt-BR",u);return s.charAt(0).toUpperCase()+s.slice(1)}const p=d(!1),L=d(0),E=d(0),n=d(null),P=t=>{var u,s;p.value=!0,L.value=t.pageX-(((u=n.value)==null?void 0:u.offsetLeft)||0),E.value=((s=n.value)==null?void 0:s.scrollLeft)||0},A=t=>{var o;if(!p.value)return;t.preventDefault();const s=(t.pageX-(((o=n.value)==null?void 0:o.offsetLeft)||0)-L.value)*2;n.value&&(n.value.scrollLeft=E.value-s)},C=()=>{p.value=!1},T=()=>{n.value&&(n.value.addEventListener("mousemove",A),n.value.addEventListener("mouseup",C),n.value.addEventListener("mouseleave",C))};return V(()=>{x()}),X(()=>{n.value&&(n.value.removeEventListener("mousemove",A),n.value.removeEventListener("mouseup",C),n.value.removeEventListener("mouseleave",C))}),(t,u)=>(l(),c("div",Q,[e("div",W,[(l(!0),c(f,null,D(v.value,(s,o)=>(l(),c("div",{key:o,class:I({month:!0,select:o===m.value}),onClick:$=>[m.value=o,g.value=0]},i(o),11,Z))),128))]),e("div",{ref_key:"container",ref:n,class:"days",onMousedown:P},[(l(!0),c(f,null,D(v.value[m.value],(s,o)=>(l(),c("div",{class:"day",key:o},[e("div",{class:I(["box",{selectedDay:g.value===s.day}]),onClick:$=>[g.value=s.day,r(s.extense)]},[e("span",ae,i(s.name),1),e("span",te,i(s.day),1)],10,ee)]))),128))],544),S.statusCalendar?z("",!0):(l(),c("section",se,oe))]))}}),le=R(ce,[["__scopeId","data-v-d9fbd246"]]),O=_=>(J("data-v-093ac168"),_=_(),K(),_),de={class:"options"},re={class:"container_content"},ie={class:"capacity"},ue={class:"period"},ve={class:"header"},pe=O(()=>e("div",{class:"title"}," Capacidade período Manhã ",-1)),_e=["src"],he={class:"services"},ge={class:"title"},me={class:"progress"},fe=["value","max"],ye={class:"info"},Ce={class:"period"},De={class:"header"},ke=O(()=>e("div",{class:"title"}," Capacidade período Tarde ",-1)),xe=["src"],$e={class:"services"},be={class:"title"},Se={class:"progress"},Le=["value","max"],Ee={class:"info"},Ae=w({__name:"ScheduleCapacity",setup(_){const k=U();(()=>{k.setInfoPage({title:"Agenda Técnica Aniel",subtitle:"Acompanhe a capacidade de agendamento em tempo real"})})();const v=d(!1),h=d({}),y=g=>{v.value=!1,B({url:"https://v2.ageportal.agetelecom.com.br/integrator/aniel/capacity",params:{period:g},method:"GET",headers:{Authorization:"Bearer "+G.get("token")}}).then(r=>{v.value=!0,h.value=r.data}).catch(r=>{console.log(r)})},m=d("operational");return(g,r)=>{const x=H("router-link");return l(),c(f,null,[e("div",de,[N(x,{"exact-active-class":"select",to:"/ageIntegra/agenda-aniel",onClick:r[0]||(r[0]=a=>m.value="operational")},{default:q(()=>[b("Operacional")]),_:1})]),N(le,{onUpdateData:y,statusCalendar:v.value},null,8,["statusCalendar"]),e("div",re,[e("div",ie,[e("div",ue,[e("div",ve,[pe,e("img",{src:M(j),alt:""},null,8,_e)]),e("div",he,[(l(!0),c(f,null,D(h.value.capacity||[],(a,p)=>(l(),c("div",{class:"service",key:a.id},[e("div",ge,[e("h3",null,i(p),1)]),e("div",me,[e("progress",{value:a.manha.used,max:a.manha.capacity},null,8,fe),e("div",ye,[e("span",null,[e("b",null,i(Math.abs(a.manha.capacity-a.manha.used)),1),b(" - "+i(a.manha.capacity-a.manha.used>=0?"Disponíveis":"Excedentes"),1)])])])]))),128))])]),e("div",Ce,[e("div",De,[ke,e("img",{src:M(Y),alt:""},null,8,xe)]),e("div",$e,[(l(!0),c(f,null,D(h.value.capacity||[],(a,p)=>(l(),c("div",{class:"service",key:a.id},[e("div",be,[e("h3",null,i(p),1)]),e("div",Se,[e("progress",{value:a.tarde.used,max:a.tarde.capacity},null,8,Le),e("div",Ee,[e("span",null,[e("b",null,i(Math.abs(a.tarde.capacity-a.tarde.used)),1),b(" - "+i(a.tarde.capacity-a.tarde.used>=0?"Disponíveis":"Excedentes"),1)])])])]))),128))])])])])],64)}}}),Ne=R(Ae,[["__scopeId","data-v-093ac168"]]);export{Ne as default};
