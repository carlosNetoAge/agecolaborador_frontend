import{d as N,k as T,a as u,O as $,l as o,q as e,y as k,z as C,u as f,U as A,v as I,F as L,x as z,C as H,D as U,K as R,o as s,S as y,E as p,J as c,G as q,H as E,N as X,_ as j}from"./index-D7M8yn9v.js";const V="/assets/confirm-Bt6C-TPo.png",J="/assets/pending-DiSv79qu.png",Q="/assets/not_sending-Ca5jW9XR.png",W="/assets/schedule-BQ7OQ84X.png",G="/assets/place-DROFwzNo.png",K="/assets/service-BekhWjbd.png",n=_=>(q("data-v-3e54ef3d"),_=_(),E(),_),Y={class:"options"},ee={class:"operational__dashboard"},te={class:"filters"},ae={class:"actions"},oe={class:"search"},se={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 513.749 513.749",style:{"enable-background":"new 0 0 513.749 513.749"},"xml:space":"preserve",width:"512",height:"512"},ne=n(()=>e("g",null,[e("path",{d:"M504.352,459.061l-99.435-99.477c74.402-99.427,54.115-240.344-45.312-314.746S119.261-9.277,44.859,90.15   S-9.256,330.494,90.171,404.896c79.868,59.766,189.565,59.766,269.434,0l99.477,99.477c12.501,12.501,32.769,12.501,45.269,0   c12.501-12.501,12.501-32.769,0-45.269L504.352,459.061z M225.717,385.696c-88.366,0-160-71.634-160-160s71.634-160,160-160   s160,71.634,160,160C385.623,314.022,314.044,385.602,225.717,385.696z"})],-1)),le=[ne],ie={class:"period"},ce={class:"status"},de=n(()=>e("option",{value:"all"},"Todos Serviços",-1)),re=n(()=>e("option",{value:"activations"},"Ativações",-1)),ue=n(()=>e("option",{value:"vt"},"Visita Técnica",-1)),pe=n(()=>e("option",{value:"me"},"Mudança de endereço",-1)),ve=[de,re,ue,pe],_e={class:"status"},he=X('<option value="all" data-v-3e54ef3d>Todos Status</option><option value="closed_productive" data-v-3e54ef3d>Fechada produtiva</option><option value="pending_att" data-v-3e54ef3d>Aguardando atendimento</option><option value="pending_technical" data-v-3e54ef3d>Aguardando Responsável</option><option value="displacement" data-v-3e54ef3d>Os em deslocamento</option><option value="closed_improductive" data-v-3e54ef3d>Fechada improdutiva</option>',6),ge=[he],me={class:"clear"},fe=n(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",id:"Layer_1","data-name":"Layer 1",viewBox:"0 0 24 24"},[e("path",{d:"m17,0c-3.86,0-7,3.14-7,7s3.14,7,7,7,7-3.14,7-7S20.86,0,17,0Zm0,12c-2.757,0-5-2.243-5-5s2.243-5,5-5,5,2.243,5,5-2.243,5-5,5Zm2.957-6.543l-1.543,1.543,1.543,1.543-1.414,1.414-1.543-1.543-1.543,1.543-1.414-1.414,1.543-1.543-1.543-1.543,1.414-1.414,1.543,1.543,1.543-1.543,1.414,1.414Zm-7.957,9.025c.616.412,1.289.743,2,.995v8.523l-6-4.5v-5.12L0,5.38v-2.38C0,1.346,1.346,0,3,0h8.349c-.706.571-1.325,1.244-1.831,2H3c-.551,0-1,.449-1,1v1.62l8,9v4.88l2,1.5v-5.518Z"})],-1)),xe=[fe],ye={class:"table_orders"},we=n(()=>e("thead",null,[e("tr",null,[e("th",{style:{"text-align":"left"}},"Protocolo"),e("th",{style:{"text-align":"left"}},"Serviço"),e("th",null,"Agendamento"),e("th",{style:{"text-align":"left"}},"Status"),e("th",{style:{"text-align":"left"}},"Confirmação do cliente"),e("th",{style:{"text-align":"left"}},"Localidade"),e("th",null,"Ações")])],-1)),Se={style:{"text-align":"left"}},be=["onClick"],ke={style:{"text-align":"left"}},Ce={class:"flex"},Ae=["src"],Ie={class:"flex"},Le=["src"],Ve={class:"flex"},De=["fill"],Fe=n(()=>e("path",{d:"m24,24H0v-1c0-1.654,1.346-3,3-3h18c1.654,0,3,1.346,3,3v1ZM3.718,5.202L1.4,2.982.018,4.426l2.317,2.22,1.383-1.443Zm3.862-2.493L6.367-.008l-1.826.814,1.213,2.717,1.826-.814Zm16.402,1.717l-1.383-1.443-2.317,2.22,1.383,1.443,2.317-2.22Zm-4.523-3.619L17.633-.008l-1.213,2.717,1.826.814,1.213-2.717Zm1.541,12.193c0-4.963-4.037-9-9-9S3,8.037,3,13v5h18v-5Zm-9-2c-1.103,0-2,.897-2,2h-2c0-2.206,1.794-4,4-4v2Z"},null,-1)),Oe=[Fe],Ze={style:{"text-align":"left"}},Be={class:"flex"},Pe=["src"],Me=["src"],Ne=["src"],Te=["src"],$e={class:"flex"},ze=["src"],He=n(()=>e("td",null,null,-1)),Ue=N({__name:"OperationalSchedule",setup(_){const D=T(),w=u([]),h=u(""),l=u("all"),v=u("all"),x=new Date,F=x.getFullYear(),O=String(x.getMonth()+1).padStart(2,"0"),Z=String(x.getDate()).padStart(2,"0"),S=`${F}-${O}-${Z}`,g=u(S);(()=>{D.setInfoPage({title:"Agenda Operacional Aniel",subtitle:"Acompanhe o status de agendamento em tempo real"})})();const b=u("operational"),m=()=>{H({url:"https://v2.ageportal.agetelecom.com.br/integrator/aniel/management-schedule/dashboard-operational",method:"get",params:{period:g.value},headers:{Authorization:"Bearer "+U.get("token")}}).then(i=>{w.value=i.data}).catch(i=>{console.log(i)})},B=$(()=>{const i=h.value.toString().toLowerCase();return w.value.filter(a=>{const d=a.protocolo.toLowerCase().includes(i);let t=!0;l.value==="closed_productive"?t=a.status==="Fechada Produtiva":l.value==="pending_att"?t=a.status==="Aberta Aguardando Atendimento":l.value==="closed_improductive"?t=a.status==="Fechada Improdutiva":l.value==="pending_technical"?t=a.status==="Aberta Aguardando Responsável":l.value==="displacement"&&(t=a.status==="OS em Deslocamento");let r=!0;return v.value==="activations"?r=a.servico==="Ativação":v.value==="vt"?r=a.servico==="Visita Técnica":v.value==="me"&&(r=a.servico==="Mudança De Endereço"),d&&t&&r})});m(),setInterval(()=>{m()},1e4);const P=function(i){const d=btoa(JSON.stringify({personId:i,pbxInfo:{},availableAttendance:!0}));window.open("https://erp.agetelecom.com.br/people_informations?hash="+d,"_blank")},M=()=>{h.value="",l.value="all",g.value=S,m()};return(i,a)=>{const d=R("router-link");return s(),o(L,null,[e("div",Y,[k(d,{"exact-active-class":"select",to:"/ageIntegra/agenda-aniel",onClick:a[0]||(a[0]=t=>b.value="capacity")},{default:C(()=>[y("Capacidade")]),_:1}),k(d,{"exact-active-class":"select",to:"/ageIntegra/agenda-aniel/operacional",onClick:a[1]||(a[1]=t=>b.value="operational")},{default:C(()=>[y("Operacional")]),_:1})]),e("div",ee,[e("div",te,[e("div",ae,[e("div",oe,[(s(),o("svg",se,le)),f(e("input",{type:"number",placeholder:"Pesquisar (Protocolo)","onUpdate:modelValue":a[2]||(a[2]=t=>h.value=t)},null,512),[[A,h.value]])]),e("div",ie,[f(e("input",{type:"date",name:"period","onUpdate:modelValue":a[3]||(a[3]=t=>g.value=t),onChange:m},null,544),[[A,g.value]])]),e("div",ce,[f(e("select",{name:"status",id:"status","onUpdate:modelValue":a[4]||(a[4]=t=>v.value=t)},ve,512),[[I,v.value]])]),e("div",_e,[f(e("select",{name:"status",id:"status","onUpdate:modelValue":a[5]||(a[5]=t=>l.value=t)},ge,512),[[I,l.value]])]),e("div",me,[e("button",{onClick:a[6]||(a[6]=t=>M())},xe)])])]),e("div",ye,[e("table",null,[we,e("tbody",null,[(s(!0),o(L,null,z(B.value,(t,r)=>(s(),o("tr",{key:r},[e("td",Se,[e("b",{onClick:qe=>P(t.cliente_id),style:{"user-select":"none",cursor:"pointer"}},"# ",8,be),y(p(t.protocolo),1)]),e("td",ke,[e("div",Ce,[e("img",{src:c(K),alt:"servico"},null,8,Ae),e("span",null,p(t.sub_servico),1)])]),e("td",null,[e("div",Ie,[e("img",{src:c(W),alt:"agenda"},null,8,Le),e("span",null,p(t.data_agendamento),1)])]),e("td",null,[e("div",Ve,[(s(),o("svg",{fill:t.cor_indicativa??"#cccccc",xmlns:"http://www.w3.org/2000/svg",id:"Layer_1","data-name":"Layer 1",viewBox:"0 0 24 24",width:"512",height:"512"},Oe,8,De)),e("span",null,p(t.status),1)])]),e("td",Ze,[e("div",Be,[t.confirmacao_cliente=="Confirmado"?(s(),o("img",{key:0,src:c(V),alt:"confirmado"},null,8,Pe)):t.confirmacao_cliente=="Pendente"?(s(),o("img",{key:1,src:c(Q),alt:"pendente"},null,8,Me)):t.confirmacao_cliente=="Atendente"?(s(),o("img",{key:2,src:c(V),alt:"confirmado"},null,8,Ne)):(s(),o("img",{key:3,src:c(J),alt:"confirmado"},null,8,Te)),e("span",null,p(t.confirmacao_cliente??"Não enviada"),1)])]),e("td",null,[e("div",$e,[e("img",{src:c(G),alt:"local"},null,8,ze),e("span",null,p(t.localidade),1)])]),He]))),128))])])])])],64)}}}),Xe=j(Ue,[["__scopeId","data-v-3e54ef3d"]]);export{Xe as default};
