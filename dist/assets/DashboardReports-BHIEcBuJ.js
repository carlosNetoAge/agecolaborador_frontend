import{d as x,i as b,r as n,z as V,c as a,b as s,g as m,e as B,G as F,F as I,f as S,j as p,A as H,k as R,n as D,o as i,x as M,u as l,h as T,H as f,t as C,p as z,l as A,_ as N}from"./index-BfwRbsdA.js";import{S as Z}from"./SearchLoupe-CqbzTA6_.js";import{b as _}from"./powerbi-Bi8rkbQp.js";const $="data:image/svg+xml,%3csvg%20width='38'%20height='44'%20viewBox='0%200%2038%2044'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200.999999C0%200.447714%200.447715%200%201%200H36.71C37.2623%200%2037.71%200.447715%2037.71%201V40.7478C37.71%2042.544%2036.254%2044%2034.4578%2044C33.9582%2044%2033.4653%2043.8849%2033.0173%2043.6636L20.5423%2037.5003C19.729%2037.0985%2018.7775%2037.0862%2017.9541%2037.4671L9.82867%2041.2252L4.43394%2043.7128C4.02361%2043.902%203.57712%2044%203.12527%2044C1.39923%2044%200%2042.6008%200%2040.8747V0.999999Z'%20fill='%23FFB32C'/%3e%3cpath%20d='M0%200.999999C0%200.447714%200.447715%200%201%200H18.4835C19.0358%200%2019.4835%200.447715%2019.4835%201V36.4264C19.4835%2036.8264%2019.2452%2037.1879%2018.8776%2037.3455L9.82867%2041.2252L4.43394%2043.7128C4.02361%2043.902%203.57712%2044%203.12527%2044C1.39923%2044%200%2042.6008%200%2040.8747V0.999999Z'%20fill='%23FFA300'/%3e%3c/svg%3e",E="data:image/svg+xml,%3csvg%20width='38'%20height='44'%20viewBox='0%200%2038%2044'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200.999999C0%200.447714%200.447715%200%201%200H36.7143C37.2666%200%2037.7143%200.447715%2037.7143%201V40.7474C37.7143%2042.5438%2036.258%2044%2034.4617%2044C33.962%2044%2033.4691%2043.8849%2033.0211%2043.6636L20.5444%2037.5002C19.7311%2037.0984%2018.7798%2037.0862%2017.9564%2037.4669L9.82979%2041.2252L4.43441%2043.7128C4.02405%2043.902%203.57755%2044%203.12568%2044C1.39942%2044%200%2042.6006%200%2040.8743V0.999999Z'%20fill='%23959595'/%3e%3cpath%20d='M0%200.999999C0%200.447714%200.447715%200%201%200H18.4857C19.038%200%2019.4857%200.447715%2019.4857%201V36.4264C19.4857%2036.8264%2019.2474%2037.1879%2018.8797%2037.3455L9.82979%2041.2252L4.43441%2043.7128C4.02405%2043.902%203.57755%2044%203.12568%2044C1.39942%2044%200%2042.6006%200%2040.8743V0.999999Z'%20fill='%237B7B7B'/%3e%3c/svg%3e",P=r=>(z("data-v-1a5bb0c4"),r=r(),A(),r),j={class:"reports"},G={class:"options"},O={class:"search"},q=P(()=>s("div",{class:"actions"},null,-1)),J={class:"favorite"},U=["onClick","src"],X=["onClick","src"],K=["src"],Q=["src"],W={class:"header"},Y=x({__name:"DashboardReports",setup(r){const g=()=>{[f,_].forEach(o=>{const d=new Image;d.src=o})};b().setInfoPage({title:"Relatórios",subtitle:"Todos os relatórios disponíveis para visualização, download ou envio."});const u=n([]);n(!1),n([]);const c=n(""),w=V(()=>u.value.filter(e=>e.nome.toLowerCase().includes(c.value.toLowerCase())).sort((e,o)=>o.fav-e.fav)),v=n(!1),k=()=>{H({url:"agereport/reports",method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${R.get("token")}`}}).then(e=>{u.value=e.data,v.value=!0}).catch(e=>{console.log(e)})},y=e=>{const o={reportId:e.id,reportType:e.tipo};return btoa(JSON.stringify(o))};return g(),k(),(e,o)=>{const d=D("router-link");return i(),a("div",j,[s("div",G,[s("div",O,[m(Z),B(s("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=t=>c.value=t),placeholder:"Procure pelo nome do relatório..."},null,512),[[F,c.value]])]),q]),v.value?(i(!0),a(I,{key:0},S(w.value,(t,h)=>(i(),a("div",{class:"report",key:h,style:M({animationDelay:h*.1+"s"})},[s("div",J,[t.fav?(i(),a("img",{key:0,onClick:L=>t.fav=!t.fav,src:l($),alt:"favorite"},null,8,U)):(i(),a("img",{key:1,onClick:L=>t.fav=!t.fav,src:l(E),alt:"noFavorite"},null,8,X))]),m(d,{to:`relatorio/${y(t)}`},{default:T(()=>[t.tipo=="relatorio"?(i(),a("img",{key:0,class:"icon-report",src:l(f),alt:"report"},null,8,K)):p("",!0),t.tipo=="dashboard"?(i(),a("img",{key:1,class:"icon-report",src:l(_),alt:"report"},null,8,Q)):p("",!0),s("div",W,[s("h3",null,C(t.nome),1)]),s("p",null,C(t.descricao)+"...",1)]),_:2},1032,["to"])],4))),128)):p("",!0)])}}}),a0=N(Y,[["__scopeId","data-v-1a5bb0c4"]]);export{a0 as default};
