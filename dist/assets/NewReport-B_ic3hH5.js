import{d as L,r as c,c as a,b as e,u as k,j as p,t as _,e as d,G as v,v as V,F as f,f as y,I as U,g as C,h as R,A as F,k as H,n as D,o as n,H as T,E as $,p as j,l as M,_ as P}from"./index-vA_UvrFy.js";import{b as q}from"./powerbi-Bi8rkbQp.js";import{R as O}from"./check-DHuUgxk6.js";const s=h=>(j("data-v-b98bcc6c"),h=h(),M(),h),z={class:"container"},E=["src"],Z=["src"],K={class:"block"},Q={class:"title"},G=s(()=>e("p",null,"Cadastre um novo relatório, utilizando campos personalizados, query ou dashboards.",-1)),X={class:"block"},J={class:"subsection"},W=s(()=>e("h1",null,"Detalhes",-1)),Y=s(()=>e("p",null,"Informe o nome e descrição do relatório que será exibido no painel.",-1)),ee={class:"inputs"},oe={class:"input"},te=s(()=>e("label",{for:"name"},"Nome",-1)),se={class:"input"},le=s(()=>e("label",{for:"area"},"Área do relatório",-1)),ae=["value"],ne={class:"input",style:{width:"100%"}},ie=s(()=>e("label",{for:"description"},"Descrição",-1)),de={key:2,class:"block"},re={class:"subsection"},ce=s(()=>e("h1",null,"Informações técnicas",-1)),ue=s(()=>e("p",null,"Escolha o banco de dados, query e filtros disponíveis",-1)),ve={class:"inputs"},pe={class:"input"},_e=s(()=>e("label",{for:"database"},"Banco de dados",-1)),he=["value"],me={class:"input"},be=s(()=>e("label",{for:"filters"},"Adicione filtros",-1)),fe={class:"input"},ke=s(()=>e("label",{for:"consult"},"Query",-1)),ye={class:"input"},ge=s(()=>e("label",{for:"filters"},"Filtros",-1)),we={class:"filters"},xe=["onUpdate:modelValue","id"],Ve=s(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",id:"Layer_1","data-name":"Layer 1",viewBox:"0 0 24 24",width:"512",height:"512"},[e("path",{d:"M14,22.03c-.39,0-.78-.08-1.16-.23-1.13-.47-1.84-1.52-1.85-2.75v-2.06H3.97c-2.19,0-3.97-1.8-3.97-4.01v-1.98c0-2.21,1.78-4.01,3.97-4.01h7.03v-2.06c0-1.23,.71-2.28,1.85-2.75,1.13-.47,2.38-.22,3.24,.65l6.72,6.33,.02,.02c1.55,1.55,1.55,4.07,0,5.62l-6.77,6.37c-.56,.56-1.3,.86-2.06,.86ZM3.97,8.99c-1.09,0-1.97,.9-1.97,2.01v1.98c0,1.11,.89,2.01,1.97,2.01H12c.55,0,1,.45,1,1v3.06c0,.6,.47,.84,.61,.9,.14,.06,.64,.22,1.07-.21l6.77-6.37c.74-.74,.75-1.99-.01-2.76l-6.73-6.33c-.45-.45-.95-.29-1.09-.24-.14,.06-.61,.3-.61,.9v3.05c0,.55-.45,1-1,1H3.97Z"})],-1)),Ce=["onClick"],Re=s(()=>e("path",{d:"M18,6h0a1,1,0,0,0-1.414,0L12,10.586,7.414,6A1,1,0,0,0,6,6H6A1,1,0,0,0,6,7.414L10.586,12,6,16.586A1,1,0,0,0,6,18H6a1,1,0,0,0,1.414,0L12,13.414,16.586,18A1,1,0,0,0,18,18h0a1,1,0,0,0,0-1.414L13.414,12,18,7.414A1,1,0,0,0,18,6Z"},null,-1)),Ie=[Re],Ae={key:3,class:"block"},Ne={class:"subsection"},Se=s(()=>e("h1",null,"Informações técnicas",-1)),Be=s(()=>e("p",null,"Insira o link do iframe que deseja expor",-1)),Le={class:"inputs"},Ue={class:"input",style:{width:"100%"}},Fe=s(()=>e("label",{for:"link"},"Link",-1)),He={class:"actions"},De=s(()=>e("button",null,"Cancelar",-1)),Te={key:0,class:"modal"},$e={class:"card"},je=["src"],Me=s(()=>e("h2",null,"Sucesso!",-1)),Pe=L({__name:"NewReport",setup(h){const i=c("report"),I=c([{label:"Base",value:"Base"},{label:"Técnico",value:"Técnico"},{label:"Financeiro",value:"Financeiro"},{label:"RH",value:"RH"},{label:"Comercial",value:"Comercial"},{label:"Redes",value:"Redes"},{label:"Planejamento",value:"Planejamento"},{label:"Outros",value:"Outros"}]),A=c([{label:"Voalle",value:"Voalle"},{label:"Portal",value:"Portal"},{label:"Aniel",value:"Aniel"}]),m=c(""),u=c([]),N=()=>{const r={name:"",field:m.value};u.value.push(r),m.value=""},S=r=>{u.value.splice(r,1)},l=c({name:"",description:"",typeReport:i,area:"Base",database:"Voalle",consult:"",filters:u.value,link:""}),g=c(!1),B=()=>{F({method:"POST",url:"agereport/management/reports",headers:{"Content-Type":"application/json",Authorization:`Bearer ${H.get("token")}`},data:l.value}).then(r=>{g.value=!0}).catch(r=>{console.log(r)})};return(r,t)=>{const w=D("router-link");return n(),a(f,null,[e("div",z,[i.value=="dashboard"?(n(),a("img",{key:0,onClick:t[0]||(t[0]=o=>i.value="report"),class:"trade-insert",src:k(q),alt:""},null,8,E)):p("",!0),i.value=="report"?(n(),a("img",{key:1,onClick:t[1]||(t[1]=o=>i.value="dashboard"),class:"trade-insert",src:k(T),alt:""},null,8,Z)):p("",!0),e("div",K,[e("div",Q,[e("h1",null,_(i.value=="report"?"Novo Relatório":"Novo Dashboard"),1),G])]),e("div",X,[e("div",J,[W,Y,e("div",ee,[e("div",oe,[te,d(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>l.value.name=o),type:"text",id:"name",autocomplete:"off",placeholder:"Nome do relatório..."},null,512),[[v,l.value.name]])]),e("div",se,[le,d(e("select",{name:"area",id:"area","onUpdate:modelValue":t[3]||(t[3]=o=>l.value.area=o)},[(n(!0),a(f,null,y(I.value,o=>(n(),a("option",{key:o.value,value:o.value},_(o.label),9,ae))),128))],512),[[V,l.value.area]])]),e("div",ne,[ie,d(e("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>l.value.description=o),type:"text",id:"description",autocomplete:"off",placeholder:"Descrição..."},null,512),[[v,l.value.description]])])])])]),i.value=="report"?(n(),a("div",de,[e("div",re,[ce,ue,e("div",ve,[e("div",pe,[_e,d(e("select",{name:"database",id:"database","onUpdate:modelValue":t[5]||(t[5]=o=>l.value.database=o)},[(n(!0),a(f,null,y(A.value,o=>(n(),a("option",{key:o.value,value:o.value},_(o.label),9,he))),128))],512),[[V,l.value.database]])]),e("div",me,[be,d(e("input",{type:"text",id:"filters",autocomplete:"off",placeholder:"c.created...","onUpdate:modelValue":t[6]||(t[6]=o=>m.value=o),onKeydown:t[7]||(t[7]=U(o=>N(),["enter"]))},null,544),[[v,m.value]])]),e("div",fe,[ke,d(e("textarea",{"onUpdate:modelValue":t[8]||(t[8]=o=>l.value.consult=o),name:"consult",id:"consult",placeholder:"Select * from ..."},null,512),[[v,l.value.consult]])]),e("div",ye,[ge,e("div",we,[(n(!0),a(f,null,y(u.value,(o,b)=>(n(),a("div",{class:"filter",key:b},[d(e("input",{autocomplete:"off","onUpdate:modelValue":x=>u.value[b].name=x,type:"text",id:o,placeholder:"Nome..."},null,8,xe),[[v,u.value[b].name]]),Ve,e("span",null,_(o.field),1),(n(),a("svg",{style:{cursor:"pointer"},onClick:x=>S(b),xmlns:"http://www.w3.org/2000/svg",id:"Filled",viewBox:"0 0 24 24",width:"512",height:"512"},Ie,8,Ce))]))),128))])])])])])):p("",!0),i.value=="dashboard"?(n(),a("div",Ae,[e("div",Ne,[Se,Be,e("div",Le,[e("div",Ue,[Fe,d(e("input",{"onUpdate:modelValue":t[9]||(t[9]=o=>l.value.link=o),type:"text",id:"link",autocomplete:"off",placeholder:"https://powerbi..."},null,512),[[v,l.value.link]])])])])])):p("",!0),e("div",He,[C(w,{to:"/ageReport/relatorios"},{default:R(()=>[De]),_:1}),e("button",{onClick:t[10]||(t[10]=o=>B())},"Salvar")])]),g.value?(n(),a("div",Te,[e("div",$e,[e("img",{src:k(O),alt:""},null,8,je),Me,e("p",null,_(i.value=="report"?"Relatório":"Dashboard")+" criado com sucesso, você será redirecionado.",1),e("div",null,[C(w,{to:"/ageReport/relatorios"},{default:R(()=>[$(" Confirmar ")]),_:1})])])])):p("",!0)],64)}}}),Ee=P(Pe,[["__scopeId","data-v-b98bcc6c"]]);export{Ee as default};
