import{d as I,a as s,k as M,m as P,w,l as o,p as e,q as V,v as E,F as f,u as S,x as F,y as J,T as N,z as h,A as T,C as $,D as q,o as l,E as c,G as z,H as D,_ as O}from"./index-BHf7PnY5.js";import{_ as j}from"./DetailsSellerComponent.vue_vue_type_style_index_0_lang-B1Z5Lj0y.js";const y=d=>(z("data-v-e7d9e558"),d=d(),D(),d),G={key:0,class:"audit__container"},H={class:"period"},L=["disabled"],U=["value"],X={class:"table__container"},K=y(()=>e("thead",null,[e("tr",null,[e("th",null,"Executivo"),e("th",null,"Vendas"),e("th",null,"Comissão"),e("th",null,"Status")])],-1)),Q={key:0},W=["onClick"],Y=y(()=>e("td",null,[e("span",null,"Pendente")],-1)),Z=I({__name:"AuditPage",setup(d){const m=s({}),r=s("list"),b=s([]),v=s(!1),_=s(!1),n=s("2024-01-01"),i=s(""),A=M(),g=s([{label:"Março de 2024",value:"2024-01-01",refer:"Janeiro de 2024"},{label:"Abril de 2024",value:"2024-02-01",refer:"Fevereiro de 2024"},{label:"Maio de 2024",value:"2024-03-01",refer:"Março de 2024"},{label:"Junho de 2024",value:"2024-04-01",refer:"Abril de 2024"},{label:"Julho de 2024",value:"2024-05-01",refer:"Maio de 2024"},{label:"Agosto de 2024",value:"2024-06-01",refer:"Junho de 2024"}]),C=t=>{m.value=t,i.value=k(),r.value="details",console.log(t)},p=()=>{_.value=!0,v.value=!1,$({method:"get",url:"agerv/b2b/commission/financial/builder",headers:{"Content-Type":"application/json",Authorization:"Bearer "+q.get("token")},params:{period:n.value}}).then(t=>{k(),b.value=t.data,v.value=!0,_.value=!1,B()}).catch(t=>{})};P(p),w(n,(t,u)=>{t!==u&&p()});const k=()=>{i.value=g.value.find(t=>t.value===n.value).refer},x=()=>{r.value="list"},B=()=>{A.setInfoPage({title:"Auditoria de vendas B2B - Referente à "+i.value,subtitle:"Examine cada transação, garantindo precisão e integridade nas vendas."})};return(t,u)=>(l(),o(f,null,[r.value==="list"?(l(),o("div",G,[e("div",H,[V(e("select",{onChange:p,"onUpdate:modelValue":u[0]||(u[0]=a=>n.value=a),disabled:_.value},[(l(!0),o(f,null,S(g.value,a=>(l(),o("option",{value:a.value,key:a.value},c(a.label),9,U))),128))],40,L),[[E,n.value]])]),e("div",X,[e("table",null,[K,F(N,{name:"fade"},{default:J(()=>[v.value?(l(),o("tbody",Q,[(l(!0),o(f,null,S(b.value,(a,R)=>(l(),o("tr",{key:R,onClick:ee=>C(a)},[e("td",null,c(a.seller),1),e("td",null,c(a.contracts.dedicated+a.contracts.business),1),e("td",null,"R$ "+c((a.commissionDedicated+a.commissionBusiness).toFixed(2)),1),Y],8,W))),128))])):h("",!0)]),_:1})])])])):h("",!0),r.value==="details"?(l(),T(j,{key:1,onReturn:x,dataSeller:m.value,periodRefer:i.value},null,8,["dataSeller","periodRefer"])):h("",!0)],64))}}),se=O(Z,[["__scopeId","data-v-e7d9e558"]]);export{se as default};
