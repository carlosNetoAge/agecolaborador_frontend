import{m as $,a as Q}from"./afternoon-D3aPXxoM.js";import{d as F,r as i,a as R,D as O,c as s,b as e,q as k,F as S,f as z,j as L,A as U,k as X,o,t,y as T,_ as J,i as W,g as E,h as j,u as I,n as Y,E as p}from"./index-CukS6dV8.js";const G="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAA0NJREFUWIXFl89rXFUUxz/nznuvaZvMJKUZGplpZ2rSWkf8VRSLuEgWIkQEpULddN9VERcVhC7aggkudCXkD0grKAWhKi5sRSjtRmqbGWpUOoFJ2pBpTCeZSTPzXuZ0MUmcpNV5b0yY7+rdd+85ny/cd889T/Cp2d5d4aVt3iDIgMILQALoXJl+AEwI/AZ62fGc77rH7y/4ySuNFkw+03FAjTklwjFgh0+/iwoXqOpw/Pb8n00ZyB2JbZeFhbMoJwHLJ3ijXIUvvFLhdHKCJd8GcofCfRKSiyjPNQneSLnuLbvvJW4v3mtoYOrZzpdU9Eege1Pg/2hSxQzG03O3/tVA7lC4T4xc3QL4mgkX75VkpjS9+sKsPmQTtImRr7cQDhCzsS7ljsS2P2bAbo+co3a8fMnau5+uoRG6hkaw9u4PYuIw88WPVwcCtaNGyGQI8LVHL17FPpACwP19jJmjbwQxUXTx+pKZ0rQBUGNOBYEjgrXv6bWhlegFaVhS6tVuY50GMLO9u8IrRca/VCmNjqwNi6MjoBooBXA8f3B3h0ylwh8ocj5oNIB9sFYm3PF0M+GIcMyADDQVbQyhnhihPTEwpvH6J0iVAUsDfPn16jr3JTveqe3c4rcXmPvkRPAkwvMymYrkgd2BAk2Ip369h9gOAOpWuHu4B6rLQS3MGCAcNEosaw0OILaDWE3dV5HmNm8TZYD5FvILBsi2DC/cMbU2qmW6aUAvtwxf5Sdjs+0SUGoBvuSI84OJZvJFha8ChW6s+6qB7wKB89FMvlg7hlUdBlzffLeyrv67f2RQtxKEX/EMQwAhgM/vl//+MNrWIfC63wzl6z9jIp2442kKZz+iOv/AN13gs3i68M3Kc03ZBG12e+QKymu+MzWnaw/Lhf6+vyhDXUuWnGDJVe9dILd1bL2rlvX+KnydAYBkpjStYt4GJreAnlMTeit+c3aq/uVjd0E8PXcr5Cy/LMIvmwi/5uK9Gh+bG9s48cTLqOdGMb+4VHhTkTP8vxpRQfj0YbnQX/8vUK+GnWQ2tXPPSgN5HNjpE1wCRpcNw/vGCnf+a6HvVnYm1d3uSmVQoR/lRSDJ+t/zLMoN4IojzvfRTL7oJ+8j1aQO2ezJ6AQAAAAASUVORK5CYII=",K={class:"calendar"},Z={class:"buttons"},H={class:"months"},q=["onClick"],aa=["onClick"],ea={class:"dayName"},ta={class:"dayNumber"},sa={key:0,class:"dots-container"},oa=T('<div class="dot" data-v-a3a7a671></div><div class="dot" data-v-a3a7a671></div><div class="dot" data-v-a3a7a671></div><div class="dot" data-v-a3a7a671></div><div class="dot" data-v-a3a7a671></div>',5),na=[oa],la=F({__name:"CalendarOperational",props:{statusCalendar:Boolean},emits:["updateData"],setup(N,{emit:B}){const V=N,_=i({}),m=B,h=new Date,f=i(A(h)),g=i(h.getDate()),b=l=>{if(!l){l=new Date;const d=l.getFullYear(),n=String(l.getMonth()+1).padStart(2,"0"),u=String(l.getDate()).padStart(2,"0"),x=`${d}-${n}-${u}`;return m("updateData",x)}return m("updateData",l)},v=i(h.getFullYear()),y=async()=>{U({method:"get",url:"https://v2.ageportal.agetelecom.com.br/integrator/aniel/capacity/calendar/"+v.value,headers:{"Content-Type":"application/json",Authorization:"Bearer "+X.get("token")}}).then(l=>{if(_.value={},_.value=l.data,v.value===h.getFullYear())f.value=A(h),g.value=h.getDate();else{const d=new Date(v.value,0,1);f.value=A(d),g.value=1}b(),P()})};function A(l){const d={month:"long"},n=l.toLocaleString("pt-BR",d);return n.charAt(0).toUpperCase()+n.slice(1)}const r=i(!1),c=i(0),D=i(0),a=i(null),M=l=>{var d,n;r.value=!0,c.value=l.pageX-(((d=a.value)==null?void 0:d.offsetLeft)||0),D.value=((n=a.value)==null?void 0:n.scrollLeft)||0},C=l=>{var u;if(!r.value)return;l.preventDefault();const n=(l.pageX-(((u=a.value)==null?void 0:u.offsetLeft)||0)-c.value)*2;a.value&&(a.value.scrollLeft=D.value-n)},w=()=>{r.value=!1},P=()=>{a.value&&(a.value.addEventListener("mousemove",C),a.value.addEventListener("mouseup",w),a.value.addEventListener("mouseleave",w))};return R(()=>{y()}),O(()=>{a.value&&(a.value.removeEventListener("mousemove",C),a.value.removeEventListener("mouseup",w),a.value.removeEventListener("mouseleave",w))}),(l,d)=>(o(),s("div",K,[e("div",Z,[e("button",{class:k({selected:v.value===2024}),onClick:d[0]||(d[0]=n=>[v.value=2024,y()])},"2024",2),e("button",{class:k({selected:v.value===2025}),onClick:d[1]||(d[1]=n=>[v.value=2025,y()])},"2025",2)]),e("div",H,[(o(!0),s(S,null,z(_.value,(n,u)=>(o(),s("div",{key:u,class:k({month:!0,select:u===f.value}),onClick:x=>[f.value=u,g.value=0]},t(u),11,q))),128))]),e("div",{ref_key:"container",ref:a,class:"days",onMousedown:M},[(o(!0),s(S,null,z(_.value[f.value],(n,u)=>(o(),s("div",{class:"day",key:u},[e("div",{class:k(["box",{selectedDay:g.value===n.day}]),onClick:x=>[g.value=n.day,b(n.extense)]},[e("span",ea,t(n.name),1),e("span",ta,t(n.day),1)],10,aa)]))),128))],544),V.statusCalendar?L("",!0):(o(),s("section",sa,na))]))}}),ca=J(la,[["__scopeId","data-v-a3a7a671"]]),da={class:"options"},ra={class:"container_content"},ia={class:"capacity"},ua={class:"period"},va={class:"header"},pa=e("div",{class:"title"}," Capacidade período Manhã ",-1),ha=["src"],_a={class:"services"},fa={class:"title"},ga=["onMouseover","src"],Aa={key:1,class:"info_content"},ya={class:"progress"},ma=["value","max"],Ca={class:"info"},ka={key:0},ba={key:1},Da={class:"period"},Ma={class:"header"},La=e("div",{class:"title"}," Capacidade período Tarde ",-1),Sa=["src"],wa={class:"services"},Ia={class:"title"},za=["onMouseover","src"],Ba={key:1,class:"info_content"},xa={class:"progress"},Ea=["value","max"],Na={class:"info"},Va={key:0},ja={key:1},Ua=F({__name:"ScheduleCapacity",setup(N){const B=W();(()=>{B.setInfoPage({title:"Agenda Técnica Aniel",subtitle:"Acompanhe a capacidade de agendamento em tempo real"})})();const _=i(!1),m=i({}),h=i(),f=r=>{_.value=!1,h.value=r,U({url:"https://v2.ageportal.agetelecom.com.br/integrator/aniel/capacity",params:{period:r},method:"GET",headers:{Authorization:"Bearer "+X.get("token")}}).then(c=>{_.value=!0,m.value=c.data}).catch(c=>{console.log(c)})},g=r=>r.split(":").slice(0,2).join(":"),b=r=>r.split("-").reverse().join("/"),v=i("capacity"),y=i("");setInterval(()=>{f(h.value)},2e4);const A=r=>{y.value=r};return(r,c)=>{const D=Y("router-link");return o(),s(S,null,[e("div",da,[E(D,{"exact-active-class":"select",to:"/ageIntegra/agenda-aniel",onClick:c[0]||(c[0]=a=>v.value="capacity")},{default:j(()=>[p("Capacidade")]),_:1}),E(D,{"exact-active-class":"select",to:"/ageIntegra/agenda-aniel/operacional",onClick:c[1]||(c[1]=a=>v.value="operational")},{default:j(()=>[p("Operacional")]),_:1})]),E(ca,{onUpdateData:f,statusCalendar:_.value},null,8,["statusCalendar"]),e("div",ra,[e("div",ia,[e("div",ua,[e("div",va,[pa,e("img",{src:I($),alt:""},null,8,ha)]),e("div",_a,[(o(!0),s(S,null,z(m.value.manha||[],(a,M)=>(o(),s("div",{class:"service",key:M},[e("div",fa,[a.status=="fechada"?(o(),s("img",{key:0,onMouseover:C=>A(a.servico+"manha"),onMouseleave:c[2]||(c[2]=C=>A("")),src:I(G),alt:"info"},null,40,ga)):L("",!0),e("span",null,t(a.servico)+" "+t(a.status=="fechada"?" - Fechada":""),1),a.status=="fechada"&&y.value==a.servico+"manha"?(o(),s("div",Aa,[e("p",null,[p("Data: "),e("b",null,t(b(a.data_fechamento)+" às "+g(a.hora_fechamento)+"h"),1)]),e("p",null,[p("Motivo: "),e("b",null,t(a.motivo_fechamento),1)])])):L("",!0)]),e("div",ya,[e("progress",{class:k({closed:a.status=="fechada"}),value:a.utilizado,max:a.capacidade},null,10,ma),e("div",Ca,[a.status=="aberta"?(o(),s("span",ka,[e("b",null,t(Math.abs(a.capacidade-a.utilizado)),1),p(" - "+t(a.capacidade-a.utilizado>=0?"Disponíveis":"Excedentes"),1)])):(o(),s("span",ba,[e("b",null,t(a.capacidade-a.utilizado>=0?0:Math.abs(a.capacidade-a.utilizado)),1),p(" - "+t(a.capacidade-a.utilizado>=0?"Disponíveis":"Excedentes"),1)]))])])]))),128))])]),e("div",Da,[e("div",Ma,[La,e("img",{src:I(Q),alt:""},null,8,Sa)]),e("div",wa,[(o(!0),s(S,null,z(m.value.tarde||[],(a,M)=>(o(),s("div",{class:"service",key:M},[e("div",Ia,[a.status=="fechada"?(o(),s("img",{key:0,onMouseover:C=>A(a.servico+"tarde"),onMouseleave:c[3]||(c[3]=C=>A("")),src:I(G),alt:"info"},null,40,za)):L("",!0),e("span",null,t(a.servico)+" "+t(a.status=="fechada"?" - Fechada":""),1),a.status=="fechada"&&y.value==a.servico+"tarde"?(o(),s("div",Ba,[e("p",null,[p("Data: "),e("b",null,t(b(a.data_fechamento)+" às "+g(a.hora_fechamento)+"h"),1)]),e("p",null,[p("Motivo: "),e("b",null,t(a.motivo_fechamento),1)])])):L("",!0)]),e("div",xa,[e("progress",{class:k({closed:a.status=="fechada"}),value:a.utilizado,max:a.capacidade},null,10,Ea),e("div",Na,[a.status=="aberta"?(o(),s("span",Va,[e("b",null,t(Math.abs(a.capacidade-a.utilizado)),1),p(" - "+t(a.capacidade-a.utilizado>=0?"Disponíveis":"Excedentes"),1)])):(o(),s("span",ja,[e("b",null,t(a.capacidade-a.utilizado>=0?0:Math.abs(a.capacidade-a.utilizado)),1),p(" - "+t(a.capacidade-a.utilizado>=0?"Disponíveis":"Excedentes"),1)]))])])]))),128))])])])])],64)}}});export{Ua as default};
