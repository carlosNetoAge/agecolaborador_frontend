import{d as P,k as V,a as r,O as N,l as o,q as e,y as w,z as y,u as m,U as S,v as M,F as k,x as $,C as z,D as H,K as R,o as s,S as f,E as d,J as c,G as T,H as U,N as q,_ as X}from"./index-fE6Ji-Nm.js";const C="/assets/confirm-Bt6C-TPo.png",j="/assets/pending-DiSv79qu.png",E="/assets/not_sending-Ca5jW9XR.png",J="/assets/schedule-BQ7OQ84X.png",Q="/assets/place-DROFwzNo.png",W="/assets/service-BekhWjbd.png",u=p=>(T("data-v-cbcb4abe"),p=p(),U(),p),G={class:"options"},K={class:"operational__dashboard"},Y={class:"filters"},ee={class:"actions"},te={class:"search"},ae={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 513.749 513.749",style:{"enable-background":"new 0 0 513.749 513.749"},"xml:space":"preserve",width:"512",height:"512"},oe=u(()=>e("g",null,[e("path",{d:"M504.352,459.061l-99.435-99.477c74.402-99.427,54.115-240.344-45.312-314.746S119.261-9.277,44.859,90.15   S-9.256,330.494,90.171,404.896c79.868,59.766,189.565,59.766,269.434,0l99.477,99.477c12.501,12.501,32.769,12.501,45.269,0   c12.501-12.501,12.501-32.769,0-45.269L504.352,459.061z M225.717,385.696c-88.366,0-160-71.634-160-160s71.634-160,160-160   s160,71.634,160,160C385.623,314.022,314.044,385.602,225.717,385.696z"})],-1)),se=[oe],ne={class:"period"},le={class:"status"},ce=q('<option value="all" data-v-cbcb4abe>Todos Status</option><option value="closed_productive" data-v-cbcb4abe>Fechada produtiva</option><option value="pending_att" data-v-cbcb4abe>Aguardando atendimento</option><option value="pending_technical" data-v-cbcb4abe>Aguardando Responsável</option><option value="displacement" data-v-cbcb4abe>Os em deslocamento</option><option value="closed_improductive" data-v-cbcb4abe>Fechada improdutiva</option>',6),ie=[ce],de=u(()=>e("div",{class:"clear"},[e("button",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",id:"Layer_1","data-name":"Layer 1",viewBox:"0 0 24 24"},[e("path",{d:"m17,0c-3.86,0-7,3.14-7,7s3.14,7,7,7,7-3.14,7-7S20.86,0,17,0Zm0,12c-2.757,0-5-2.243-5-5s2.243-5,5-5,5,2.243,5,5-2.243,5-5,5Zm2.957-6.543l-1.543,1.543,1.543,1.543-1.414,1.414-1.543-1.543-1.543,1.543-1.414-1.414,1.543-1.543-1.543-1.543,1.414-1.414,1.543,1.543,1.543-1.543,1.414,1.414Zm-7.957,9.025c.616.412,1.289.743,2,.995v8.523l-6-4.5v-5.12L0,5.38v-2.38C0,1.346,1.346,0,3,0h8.349c-.706.571-1.325,1.244-1.831,2H3c-.551,0-1,.449-1,1v1.62l8,9v4.88l2,1.5v-5.518Z"})])])],-1)),re={class:"table_orders"},ue=u(()=>e("thead",null,[e("tr",null,[e("th",{style:{"text-align":"left"}},"Protocolo"),e("th",{style:{"text-align":"left"}},"Serviço"),e("th",null,"Agendamento"),e("th",{style:{"text-align":"left"}},"Status"),e("th",{style:{"text-align":"left"}},"Confirmação do cliente"),e("th",{style:{"text-align":"left"}},"Localidade"),e("th",null,"Ações")])],-1)),pe={style:{"text-align":"left"}},_e=["onClick"],he={style:{"text-align":"left"}},ve={class:"flex"},ge=["src"],me={class:"flex"},fe=["src"],be={class:"flex"},xe=["fill"],we=u(()=>e("path",{d:"m24,24H0v-1c0-1.654,1.346-3,3-3h18c1.654,0,3,1.346,3,3v1ZM3.718,5.202L1.4,2.982.018,4.426l2.317,2.22,1.383-1.443Zm3.862-2.493L6.367-.008l-1.826.814,1.213,2.717,1.826-.814Zm16.402,1.717l-1.383-1.443-2.317,2.22,1.383,1.443,2.317-2.22Zm-4.523-3.619L17.633-.008l-1.213,2.717,1.826.814,1.213-2.717Zm1.541,12.193c0-4.963-4.037-9-9-9S3,8.037,3,13v5h18v-5Zm-9-2c-1.103,0-2,.897-2,2h-2c0-2.206,1.794-4,4-4v2Z"},null,-1)),ye=[we],Se={style:{"text-align":"left"}},ke={class:"flex"},Ce=["src"],Ae=["src"],Ie=["src"],Le=["src"],Oe={class:"flex"},Ze=["src"],Be=u(()=>e("td",null,null,-1)),De=P({__name:"OperationalSchedule",setup(p){const A=V(),b=r([]),_=r(""),l=r("all"),h=new Date,I=h.getFullYear(),L=String(h.getMonth()+1).padStart(2,"0"),O=String(h.getDate()).padStart(2,"0"),Z=`${I}-${L}-${O}`,v=r(Z);(()=>{A.setInfoPage({title:"Agenda Operacional Aniel",subtitle:"Acompanhe o status de agendamento em tempo real"})})();const x=r("operational"),g=()=>{z({url:"https://v2.ageportal.agetelecom.com.br/integrator/aniel/management-schedule/dashboard-operational",method:"get",params:{period:v.value},headers:{Authorization:"Bearer "+H.get("token")}}).then(n=>{b.value=n.data}).catch(n=>{console.log(n)})},B=N(()=>{const n=_.value.toString().toLowerCase();return b.value.filter(a=>{const i=a.protocolo.toLowerCase().includes(n);let t=!0;return l.value==="closed_productive"?t=a.status==="Fechada Produtiva":l.value==="pending_att"?t=a.status==="Aberta Aguardando Atendimento":l.value==="closed_improductive"?t=a.status==="Fechada Improdutiva":l.value==="pending_technical"?t=a.status==="Aberta Aguardando Responsável":l.value==="displacement"&&(t=a.status==="OS em Deslocamento"),i&&t})});g(),setInterval(()=>{g()},1e4);const D=function(n){const i=btoa(JSON.stringify({personId:n,pbxInfo:{},availableAttendance:!0}));window.open("https://erp.agetelecom.com.br/people_informations?hash="+i,"_blank")};return(n,a)=>{const i=R("router-link");return s(),o(k,null,[e("div",G,[w(i,{"exact-active-class":"select",to:"/ageIntegra/agenda-aniel",onClick:a[0]||(a[0]=t=>x.value="capacity")},{default:y(()=>[f("Capacidade")]),_:1}),w(i,{"exact-active-class":"select",to:"/ageIntegra/agenda-aniel/operacional",onClick:a[1]||(a[1]=t=>x.value="operational")},{default:y(()=>[f("Operacional")]),_:1})]),e("div",K,[e("div",Y,[e("div",ee,[e("div",te,[(s(),o("svg",ae,se)),m(e("input",{type:"number",placeholder:"Pesquisar (Protocolo)","onUpdate:modelValue":a[2]||(a[2]=t=>_.value=t)},null,512),[[S,_.value]])]),e("div",ne,[m(e("input",{type:"date",name:"period","onUpdate:modelValue":a[3]||(a[3]=t=>v.value=t),onChange:g},null,544),[[S,v.value]])]),e("div",le,[m(e("select",{name:"status",id:"status","onUpdate:modelValue":a[4]||(a[4]=t=>l.value=t)},ie,512),[[M,l.value]])]),de])]),e("div",re,[e("table",null,[ue,e("tbody",null,[(s(!0),o(k,null,$(B.value,(t,F)=>(s(),o("tr",{key:F},[e("td",pe,[e("b",{onClick:Pe=>D(t.cliente_id),style:{"user-select":"none",cursor:"pointer"}},"# ",8,_e),f(d(t.protocolo),1)]),e("td",he,[e("div",ve,[e("img",{src:c(W),alt:"servico"},null,8,ge),e("span",null,d(t.servico),1)])]),e("td",null,[e("div",me,[e("img",{src:c(J),alt:"agenda"},null,8,fe),e("span",null,d(t.data_agendamento),1)])]),e("td",null,[e("div",be,[(s(),o("svg",{fill:t.cor_indicativa??"#cccccc",xmlns:"http://www.w3.org/2000/svg",id:"Layer_1","data-name":"Layer 1",viewBox:"0 0 24 24",width:"512",height:"512"},ye,8,xe)),e("span",null,d(t.status),1)])]),e("td",Se,[e("div",ke,[t.confirmacao_cliente=="Confirmado"?(s(),o("img",{key:0,src:c(C),alt:"confirmado"},null,8,Ce)):t.confirmacao_cliente=="Pendente"?(s(),o("img",{key:1,src:c(E),alt:"pendente"},null,8,Ae)):t.confirmacao_cliente=="Atendente"?(s(),o("img",{key:2,src:c(C),alt:"confirmado"},null,8,Ie)):(s(),o("img",{key:3,src:c(j),alt:"confirmado"},null,8,Le)),e("span",null,d(t.confirmacao_cliente??"Não enviada"),1)])]),e("td",null,[e("div",Oe,[e("img",{src:c(Q),alt:"local"},null,8,Ze),e("span",null,d(t.localidade),1)])]),Be]))),128))])])])])],64)}}}),Ne=X(De,[["__scopeId","data-v-cbcb4abe"]]);export{Ne as default};
