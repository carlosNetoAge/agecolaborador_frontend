import{d as M,a as d,p as z,R as X,l as c,q as e,F as f,x as D,A as F,C as w,D as R,o as l,L as N,E as i,N as U,_ as O,k as q,y as b,z as G,J as B,K as H,S,G as J,H as K}from"./index-CQR-cnJg.js";const j="/assets/morning-CSKRONwJ.png",Y="/assets/afternoon-CHR2RdtE.png",Q={class:"calendar"},W={class:"months"},Z=["onClick"],ee=["onClick"],ae={class:"dayName"},te={class:"dayNumber"},se={key:0,class:"dots-container"},ne=U('<div class="dot" data-v-e79afc52></div><div class="dot" data-v-e79afc52></div><div class="dot" data-v-e79afc52></div><div class="dot" data-v-e79afc52></div><div class="dot" data-v-e79afc52></div>',5),oe=[ne],ce=M({__name:"CalendarOperational",props:{statusCalendar:Boolean},emits:["updateData"],setup(_,{emit:k}){const L=_,v=d({}),h=k,y=new Date,m=d(a(y)),g=d(y.getDate()),r=t=>{if(!t){t=new Date;const u=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0"),$=`${u}-${s}-${o}`;return h("updateData",$)}return h("updateData",t)},x=async()=>{w({method:"get",url:"https://v2.ageportal.agetelecom.com.br/integrator/aniel/capacity/calendar",headers:{"Content-Type":"application/json",Authorization:"Bearer "+R.get("token")}}).then(t=>{v.value=t.data,r(),V()})};function a(t){const u={month:"long"},s=t.toLocaleString("pt-BR",u);return s.charAt(0).toUpperCase()+s.slice(1)}const p=d(!1),E=d(0),A=d(0),n=d(null),T=t=>{var u,s;p.value=!0,E.value=t.pageX-(((u=n.value)==null?void 0:u.offsetLeft)||0),A.value=((s=n.value)==null?void 0:s.scrollLeft)||0},I=t=>{var o;if(!p.value)return;t.preventDefault();const s=(t.pageX-(((o=n.value)==null?void 0:o.offsetLeft)||0)-E.value)*2;n.value&&(n.value.scrollLeft=A.value-s)},C=()=>{p.value=!1},V=()=>{n.value&&(n.value.addEventListener("mousemove",I),n.value.addEventListener("mouseup",C),n.value.addEventListener("mouseleave",C))};return z(()=>{x()}),X(()=>{n.value&&(n.value.removeEventListener("mousemove",I),n.value.removeEventListener("mouseup",C),n.value.removeEventListener("mouseleave",C))}),(t,u)=>(l(),c("div",Q,[e("div",W,[(l(!0),c(f,null,D(v.value,(s,o)=>(l(),c("div",{key:o,class:N({month:!0,select:o===m.value}),onClick:$=>[m.value=o,g.value=0]},i(o),11,Z))),128))]),e("div",{ref_key:"container",ref:n,class:"days",onMousedown:T},[(l(!0),c(f,null,D(v.value[m.value],(s,o)=>(l(),c("div",{class:"day",key:o},[e("div",{class:N(["box",{selectedDay:g.value===s.day}]),onClick:$=>[g.value=s.day,r(s.extense)]},[e("span",ae,i(s.name),1),e("span",te,i(s.day),1)],10,ee)]))),128))],544),L.statusCalendar?F("",!0):(l(),c("section",se,oe))]))}}),le=O(ce,[["__scopeId","data-v-e79afc52"]]),P=_=>(J("data-v-093ac168"),_=_(),K(),_),de={class:"options"},re={class:"container_content"},ie={class:"capacity"},ue={class:"period"},ve={class:"header"},pe=P(()=>e("div",{class:"title"}," Capacidade período Manhã ",-1)),_e=["src"],he={class:"services"},ge={class:"title"},me={class:"progress"},fe=["value","max"],ye={class:"info"},Ce={class:"period"},De={class:"header"},ke=P(()=>e("div",{class:"title"}," Capacidade período Tarde ",-1)),xe=["src"],$e={class:"services"},Se={class:"title"},Le={class:"progress"},Ee=["value","max"],Ae={class:"info"},Ie=M({__name:"ScheduleCapacity",setup(_){const k=q();(()=>{k.setInfoPage({title:"Agenda Técnica Aniel",subtitle:"Acompanhe a capacidade de agendamento em tempo real"})})();const v=d(!1),h=d({}),y=g=>{v.value=!1,w({url:"https://v2.ageportal.agetelecom.com.br/integrator/aniel/capacity",params:{period:g},method:"GET",headers:{Authorization:"Bearer "+R.get("token")}}).then(r=>{v.value=!0,h.value=r.data}).catch(r=>{console.log(r)})},m=d("operational");return(g,r)=>{const x=H("router-link");return l(),c(f,null,[e("div",de,[b(x,{"exact-active-class":"select",to:"/ageIntegra/agenda-aniel",onClick:r[0]||(r[0]=a=>m.value="operational")},{default:G(()=>[S("Operacional")]),_:1})]),b(le,{onUpdateData:y,statusCalendar:v.value},null,8,["statusCalendar"]),e("div",re,[e("div",ie,[e("div",ue,[e("div",ve,[pe,e("img",{src:B(j),alt:""},null,8,_e)]),e("div",he,[(l(!0),c(f,null,D(h.value.capacity||[],(a,p)=>(l(),c("div",{class:"service",key:a.id},[e("div",ge,[e("h3",null,i(p),1)]),e("div",me,[e("progress",{value:a.manha.used,max:a.manha.capacity},null,8,fe),e("div",ye,[e("span",null,[e("b",null,i(Math.abs(a.manha.capacity-a.manha.used)),1),S(" - "+i(a.manha.capacity-a.manha.used>=0?"Disponíveis":"Excedentes"),1)])])])]))),128))])]),e("div",Ce,[e("div",De,[ke,e("img",{src:B(Y),alt:""},null,8,xe)]),e("div",$e,[(l(!0),c(f,null,D(h.value.capacity||[],(a,p)=>(l(),c("div",{class:"service",key:a.id},[e("div",Se,[e("h3",null,i(p),1)]),e("div",Le,[e("progress",{value:a.tarde.used,max:a.tarde.capacity},null,8,Ee),e("div",Ae,[e("span",null,[e("b",null,i(Math.abs(a.tarde.capacity-a.tarde.used)),1),S(" - "+i(a.tarde.capacity-a.tarde.used>=0?"Disponíveis":"Excedentes"),1)])])])]))),128))])])])])],64)}}}),be=O(Ie,[["__scopeId","data-v-093ac168"]]);export{be as default};
