import{d as M,a as c,p as z,R as X,l,q as e,F as C,x as k,A as F,C as w,D as R,o as d,L as I,E as r,N as U,_ as O,k as q,y as N,z as G,J as B,K as H,S as L,G as J,H as K}from"./index-CtQyFIXW.js";const j="/assets/morning-CSKRONwJ.png",Y="/assets/afternoon-CHR2RdtE.png",Q={class:"calendar"},W={class:"months"},Z=["onClick"],ee=["onClick"],ae={class:"dayName"},te={class:"dayNumber"},se={key:0,class:"dots-container"},ne=U('<div class="dot" data-v-e79afc52></div><div class="dot" data-v-e79afc52></div><div class="dot" data-v-e79afc52></div><div class="dot" data-v-e79afc52></div><div class="dot" data-v-e79afc52></div>',5),oe=[ne],ce=M({__name:"CalendarOperational",props:{statusCalendar:Boolean},emits:["updateData"],setup(p,{emit:x}){const E=p,v=c({}),_=x,m=new Date,h=c(S(m)),y=c(m.getDate()),f=t=>{if(!t){t=new Date;const u=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0"),$=`${u}-${s}-${o}`;return _("updateData",$)}return _("updateData",t)},i=async()=>{w({method:"get",url:"https://v2.ageportal.agetelecom.com.br/integrator/aniel/capacity/calendar",headers:{"Content-Type":"application/json",Authorization:"Bearer "+R.get("token")}}).then(t=>{v.value=t.data,f(),V()})};function S(t){const u={month:"long"},s=t.toLocaleString("pt-BR",u);return s.charAt(0).toUpperCase()+s.slice(1)}const a=c(!1),g=c(0),b=c(0),n=c(null),T=t=>{var u,s;a.value=!0,g.value=t.pageX-(((u=n.value)==null?void 0:u.offsetLeft)||0),b.value=((s=n.value)==null?void 0:s.scrollLeft)||0},A=t=>{var o;if(!a.value)return;t.preventDefault();const s=(t.pageX-(((o=n.value)==null?void 0:o.offsetLeft)||0)-g.value)*2;n.value&&(n.value.scrollLeft=b.value-s)},D=()=>{a.value=!1},V=()=>{n.value&&(n.value.addEventListener("mousemove",A),n.value.addEventListener("mouseup",D),n.value.addEventListener("mouseleave",D))};return z(()=>{i()}),X(()=>{n.value&&(n.value.removeEventListener("mousemove",A),n.value.removeEventListener("mouseup",D),n.value.removeEventListener("mouseleave",D))}),(t,u)=>(d(),l("div",Q,[e("div",W,[(d(!0),l(C,null,k(v.value,(s,o)=>(d(),l("div",{key:o,class:I({month:!0,select:o===h.value}),onClick:$=>[h.value=o,y.value=0]},r(o),11,Z))),128))]),e("div",{ref_key:"container",ref:n,class:"days",onMousedown:T},[(d(!0),l(C,null,k(v.value[h.value],(s,o)=>(d(),l("div",{class:"day",key:o},[e("div",{class:I(["box",{selectedDay:y.value===s.day}]),onClick:$=>[y.value=s.day,f(s.extense)]},[e("span",ae,r(s.name),1),e("span",te,r(s.day),1)],10,ee)]))),128))],544),E.statusCalendar?F("",!0):(d(),l("section",se,oe))]))}}),le=O(ce,[["__scopeId","data-v-e79afc52"]]),P=p=>(J("data-v-c6cf5f2b"),p=p(),K(),p),de={class:"options"},re={class:"container_content"},ie={class:"capacity"},ue={class:"period"},ve={class:"header"},pe=P(()=>e("div",{class:"title"}," Capacidade período Manhã ",-1)),_e=["src"],he={class:"services"},fe={class:"title"},ge={class:"progress"},me=["value","max"],ye={class:"info"},Ce={class:"period"},De={class:"header"},ke=P(()=>e("div",{class:"title"}," Capacidade período Tarde ",-1)),xe=["src"],Se={class:"services"},$e={class:"title"},Le={class:"progress"},Ee=["value","max"],be={class:"info"},Ae=M({__name:"ScheduleCapacity",setup(p){const x=q();(()=>{x.setInfoPage({title:"Agenda Técnica Aniel",subtitle:"Acompanhe a capacidade de agendamento em tempo real"})})();const v=c(!1),_=c({}),m=c(),h=f=>{v.value=!1,m.value=f,w({url:"https://v2.ageportal.agetelecom.com.br/integrator/aniel/capacity",params:{period:f},method:"GET",headers:{Authorization:"Bearer "+R.get("token")}}).then(i=>{v.value=!0,_.value=i.data}).catch(i=>{console.log(i)})},y=c("operational");return setInterval(()=>{h(m.value)},1e4),(f,i)=>{const S=H("router-link");return d(),l(C,null,[e("div",de,[N(S,{"exact-active-class":"select",to:"/ageIntegra/agenda-aniel",onClick:i[0]||(i[0]=a=>y.value="operational")},{default:G(()=>[L("Operacional")]),_:1})]),N(le,{onUpdateData:h,statusCalendar:v.value},null,8,["statusCalendar"]),e("div",re,[e("div",ie,[e("div",ue,[e("div",ve,[pe,e("img",{src:B(j),alt:""},null,8,_e)]),e("div",he,[(d(!0),l(C,null,k(_.value.capacity||[],(a,g)=>(d(),l("div",{class:"service",key:a.id},[e("div",fe,[e("h3",null,r(g),1)]),e("div",ge,[e("progress",{value:a.manha.used,max:a.manha.capacity},null,8,me),e("div",ye,[e("span",null,[e("b",null,r(Math.abs(a.manha.capacity-a.manha.used)),1),L(" - "+r(a.manha.capacity-a.manha.used>=0?"Disponíveis":"Excedentes"),1)])])])]))),128))])]),e("div",Ce,[e("div",De,[ke,e("img",{src:B(Y),alt:""},null,8,xe)]),e("div",Se,[(d(!0),l(C,null,k(_.value.capacity||[],(a,g)=>(d(),l("div",{class:"service",key:a.id},[e("div",$e,[e("h3",null,r(g),1)]),e("div",Le,[e("progress",{value:a.tarde.used,max:a.tarde.capacity},null,8,Ee),e("div",be,[e("span",null,[e("b",null,r(Math.abs(a.tarde.capacity-a.tarde.used)),1),L(" - "+r(a.tarde.capacity-a.tarde.used>=0?"Disponíveis":"Excedentes"),1)])])])]))),128))])])])])],64)}}}),Ne=O(Ae,[["__scopeId","data-v-c6cf5f2b"]]);export{Ne as default};
