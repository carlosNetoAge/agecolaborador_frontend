import{d as R,a as i,p as Q,R as J,l as s,q as e,F as D,x as w,A as S,C as j,D as U,o,L as z,E as t,N as O,_ as X,k as T,y as B,z as G,J as L,K as $,S as v,G as K,H as W}from"./index-CWiBXgvd.js";const H="/assets/morning-CSKRONwJ.png",Z="/assets/afternoon-CHR2RdtE.png",V="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAA0NJREFUWIXFl89rXFUUxz/nznuvaZvMJKUZGplpZ2rSWkf8VRSLuEgWIkQEpULddN9VERcVhC7aggkudCXkD0grKAWhKi5sRSjtRmqbGWpUOoFJ2pBpTCeZSTPzXuZ0MUmcpNV5b0yY7+rdd+85ny/cd889T/Cp2d5d4aVt3iDIgMILQALoXJl+AEwI/AZ62fGc77rH7y/4ySuNFkw+03FAjTklwjFgh0+/iwoXqOpw/Pb8n00ZyB2JbZeFhbMoJwHLJ3ijXIUvvFLhdHKCJd8GcofCfRKSiyjPNQneSLnuLbvvJW4v3mtoYOrZzpdU9Eege1Pg/2hSxQzG03O3/tVA7lC4T4xc3QL4mgkX75VkpjS9+sKsPmQTtImRr7cQDhCzsS7ljsS2P2bAbo+co3a8fMnau5+uoRG6hkaw9u4PYuIw88WPVwcCtaNGyGQI8LVHL17FPpACwP19jJmjbwQxUXTx+pKZ0rQBUGNOBYEjgrXv6bWhlegFaVhS6tVuY50GMLO9u8IrRca/VCmNjqwNi6MjoBooBXA8f3B3h0ylwh8ocj5oNIB9sFYm3PF0M+GIcMyADDQVbQyhnhihPTEwpvH6J0iVAUsDfPn16jr3JTveqe3c4rcXmPvkRPAkwvMymYrkgd2BAk2Ip369h9gOAOpWuHu4B6rLQS3MGCAcNEosaw0OILaDWE3dV5HmNm8TZYD5FvILBsi2DC/cMbU2qmW6aUAvtwxf5Sdjs+0SUGoBvuSI84OJZvJFha8ChW6s+6qB7wKB89FMvlg7hlUdBlzffLeyrv67f2RQtxKEX/EMQwAhgM/vl//+MNrWIfC63wzl6z9jIp2442kKZz+iOv/AN13gs3i68M3Kc03ZBG12e+QKymu+MzWnaw/Lhf6+vyhDXUuWnGDJVe9dILd1bL2rlvX+KnydAYBkpjStYt4GJreAnlMTeit+c3aq/uVjd0E8PXcr5Cy/LMIvmwi/5uK9Gh+bG9s48cTLqOdGMb+4VHhTkTP8vxpRQfj0YbnQX/8vUK+GnWQ2tXPPSgN5HNjpE1wCRpcNw/vGCnf+a6HvVnYm1d3uSmVQoR/lRSDJ+t/zLMoN4IojzvfRTL7oJ+8j1aQO2ezJ6AQAAAAASUVORK5CYII=",Y={class:"calendar"},q={class:"months"},aa=["onClick"],ea=["onClick"],ta={class:"dayName"},sa={class:"dayNumber"},oa={key:0,class:"dots-container"},na=O('<div class="dot" data-v-e79afc52></div><div class="dot" data-v-e79afc52></div><div class="dot" data-v-e79afc52></div><div class="dot" data-v-e79afc52></div><div class="dot" data-v-e79afc52></div>',5),ca=[na],la=R({__name:"CalendarOperational",props:{statusCalendar:Boolean},emits:["updateData"],setup(g,{emit:N}){const E=g,f=i({}),A=N,k=new Date,y=i(M(k)),C=i(k.getDate()),b=c=>{if(!c){c=new Date;const _=c.getFullYear(),l=String(c.getMonth()+1).padStart(2,"0"),u=String(c.getDate()).padStart(2,"0"),x=`${_}-${l}-${u}`;return A("updateData",x)}return A("updateData",c)},I=async()=>{j({method:"get",url:"https://v2.ageportal.agetelecom.com.br/integrator/aniel/capacity/calendar",headers:{"Content-Type":"application/json",Authorization:"Bearer "+U.get("token")}}).then(c=>{f.value=c.data,b(),F()})};function M(c){const _={month:"long"},l=c.toLocaleString("pt-BR",_);return l.charAt(0).toUpperCase()+l.slice(1)}const p=i(!1),r=i(0),d=i(0),n=i(null),a=c=>{var _,l;p.value=!0,r.value=c.pageX-(((_=n.value)==null?void 0:_.offsetLeft)||0),d.value=((l=n.value)==null?void 0:l.scrollLeft)||0},m=c=>{var u;if(!p.value)return;c.preventDefault();const l=(c.pageX-(((u=n.value)==null?void 0:u.offsetLeft)||0)-r.value)*2;n.value&&(n.value.scrollLeft=d.value-l)},h=()=>{p.value=!1},F=()=>{n.value&&(n.value.addEventListener("mousemove",m),n.value.addEventListener("mouseup",h),n.value.addEventListener("mouseleave",h))};return Q(()=>{I()}),J(()=>{n.value&&(n.value.removeEventListener("mousemove",m),n.value.removeEventListener("mouseup",h),n.value.removeEventListener("mouseleave",h))}),(c,_)=>(o(),s("div",Y,[e("div",q,[(o(!0),s(D,null,w(f.value,(l,u)=>(o(),s("div",{key:u,class:z({month:!0,select:u===y.value}),onClick:x=>[y.value=u,C.value=0]},t(u),11,aa))),128))]),e("div",{ref_key:"container",ref:n,class:"days",onMousedown:a},[(o(!0),s(D,null,w(f.value[y.value],(l,u)=>(o(),s("div",{class:"day",key:u},[e("div",{class:z(["box",{selectedDay:C.value===l.day}]),onClick:x=>[C.value=l.day,b(l.extense)]},[e("span",ta,t(l.name),1),e("span",sa,t(l.day),1)],10,ea)]))),128))],544),E.statusCalendar?S("",!0):(o(),s("section",oa,ca))]))}}),da=X(la,[["__scopeId","data-v-e79afc52"]]),P=g=>(K("data-v-a0bac4fe"),g=g(),W(),g),ra={class:"options"},ia={class:"container_content"},ua={class:"capacity"},va={class:"period"},pa={class:"header"},ha=P(()=>e("div",{class:"title"}," Capacidade período Manhã ",-1)),_a=["src"],fa={class:"services"},ga={class:"title"},Aa=["onMouseover","src"],ya={key:1,class:"info_content"},Ca={class:"progress"},ma=["value","max"],ka={class:"info"},ba={key:0},Ma={key:1},Sa={class:"period"},Da={class:"header"},Ia=P(()=>e("div",{class:"title"}," Capacidade período Tarde ",-1)),La=["src"],wa={class:"services"},za={class:"title"},Na=["onMouseover","src"],xa={key:1,class:"info_content"},Ba={class:"progress"},Ea=["value","max"],Ga={class:"info"},Va={key:0},Ra={key:1},ja=R({__name:"ScheduleCapacity",setup(g){const N=T();(()=>{N.setInfoPage({title:"Agenda Técnica Aniel",subtitle:"Acompanhe a capacidade de agendamento em tempo real"})})();const f=i(!1),A=i({}),k=i(),y=r=>{f.value=!1,k.value=r,j({url:"https://v2.ageportal.agetelecom.com.br/integrator/aniel/capacity",params:{period:r},method:"GET",headers:{Authorization:"Bearer "+U.get("token")}}).then(d=>{f.value=!0,A.value=d.data}).catch(d=>{console.log(d)})},C=r=>r.split(":").slice(0,2).join(":"),b=r=>r.split("-").reverse().join("/"),I=i("capacity"),M=i("");setInterval(()=>{y(k.value)},1e4);const p=r=>{M.value=r};return(r,d)=>{const n=$("router-link");return o(),s(D,null,[e("div",ra,[B(n,{"exact-active-class":"select",to:"/ageIntegra/agenda-aniel",onClick:d[0]||(d[0]=a=>I.value="capacity")},{default:G(()=>[v("Capacidade")]),_:1}),B(n,{"exact-active-class":"select",to:"/ageIntegra/agenda-aniel/operacional",onClick:d[1]||(d[1]=a=>I.value="operational")},{default:G(()=>[v("Operacional")]),_:1})]),B(da,{onUpdateData:y,statusCalendar:f.value},null,8,["statusCalendar"]),e("div",ia,[e("div",ua,[e("div",va,[e("div",pa,[ha,e("img",{src:L(H),alt:""},null,8,_a)]),e("div",fa,[(o(!0),s(D,null,w(A.value.manha||[],(a,m)=>(o(),s("div",{class:"service",key:m},[e("div",ga,[a.status=="fechada"?(o(),s("img",{key:0,onMouseover:h=>p(a.servico+"manha"),onMouseleave:d[2]||(d[2]=h=>p("")),src:L(V),alt:"info"},null,40,Aa)):S("",!0),e("span",null,t(a.servico)+" "+t(a.status=="fechada"?" - Fechada":""),1),a.status=="fechada"&&M.value==a.servico+"manha"?(o(),s("div",ya,[e("p",null,[v("Data: "),e("b",null,t(b(a.data_fechamento)+" às "+C(a.hora_fechamento)+"h"),1)]),e("p",null,[v("Motivo: "),e("b",null,t(a.motivo_fechamento),1)])])):S("",!0)]),e("div",Ca,[e("progress",{class:z({closed:a.status=="fechada"}),value:a.utilizado,max:a.capacidade},null,10,ma),e("div",ka,[a.status=="aberta"?(o(),s("span",ba,[e("b",null,t(Math.abs(a.capacidade-a.utilizado)),1),v(" - "+t(a.capacidade-a.utilizado>=0?"Disponíveis":"Excedentes"),1)])):(o(),s("span",Ma,[e("b",null,t(a.capacidade-a.utilizado>=0?0:Math.abs(a.capacidade-a.utilizado)),1),v(" - "+t(a.capacidade-a.utilizado>=0?"Disponíveis":"Excedentes"),1)]))])])]))),128))])]),e("div",Sa,[e("div",Da,[Ia,e("img",{src:L(Z),alt:""},null,8,La)]),e("div",wa,[(o(!0),s(D,null,w(A.value.tarde||[],(a,m)=>(o(),s("div",{class:"service",key:m},[e("div",za,[a.status=="fechada"?(o(),s("img",{key:0,onMouseover:h=>p(a.servico+"tarde"),onMouseleave:d[3]||(d[3]=h=>p("")),src:L(V),alt:"info"},null,40,Na)):S("",!0),e("span",null,t(a.servico)+" "+t(a.status=="fechada"?" - Fechada":""),1),a.status=="fechada"&&M.value==a.servico+"tarde"?(o(),s("div",xa,[e("p",null,[v("Data: "),e("b",null,t(b(a.data_fechamento)+" às "+C(a.hora_fechamento)+"h"),1)]),e("p",null,[v("Motivo: "),e("b",null,t(a.motivo_fechamento),1)])])):S("",!0)]),e("div",Ba,[e("progress",{class:z({closed:a.status=="fechada"}),value:a.utilizado,max:a.capacidade},null,10,Ea),e("div",Ga,[a.status=="aberta"?(o(),s("span",Va,[e("b",null,t(Math.abs(a.capacidade-a.utilizado)),1),v(" - "+t(a.capacidade-a.utilizado>=0?"Disponíveis":"Excedentes"),1)])):(o(),s("span",Ra,[e("b",null,t(a.capacidade-a.utilizado>=0?0:Math.abs(a.capacidade-a.utilizado)),1),v(" - "+t(a.capacidade-a.utilizado>=0?"Disponíveis":"Excedentes"),1)]))])])]))),128))])])])])],64)}}}),Xa=X(ja,[["__scopeId","data-v-a0bac4fe"]]);export{Xa as default};
