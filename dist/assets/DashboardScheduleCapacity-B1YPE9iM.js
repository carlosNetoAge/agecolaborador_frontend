import{d as z,k as F,a as c,O as m,l as r,q as t,y as b,z as C,J as u,E as a,u as x,W as k,v as M,F as N,x as $,C as E,D as G,K as Z,o as _,S as A,M as q,A as U,G as j,H,N as J,_ as K}from"./index-Co6jlO4j.js";const R="/assets/order_warning-CQvWwiF1.png",W="/assets/order_approval-bze_dPfJ.png",Y="/assets/order_surplus-BGa76hjP.png",Q="/assets/order_all-C1TV9-7P.png",X="/assets/order_rescheduled-BmTKGCY8.png",o=p=>(j("data-v-997d3693"),p=p(),H(),p),tt={class:"dashboard__page"},st={class:"options"},et={class:"navbar"},ot={class:"cards"},at={class:"card"},lt=o(()=>t("div",{class:"info"},[t("div",{class:"title"},[t("p",null,"Ordens do dia")]),t("div",{class:"value"},[t("span",null," - "),t("span")])],-1)),nt={class:"icon"},dt=["src"],ct={class:"card"},it={class:"info"},rt=o(()=>t("div",{class:"title"},[t("p",null,"Ordens excedentes")],-1)),ut={class:"value"},_t=o(()=>t("span",null,null,-1)),pt={class:"icon"},vt=["src"],ht={class:"card"},gt={class:"info"},mt=o(()=>t("div",{class:"title"},[t("p",null,"Ordens aprovadas")],-1)),xt={class:"value"},ft=o(()=>t("span",null,null,-1)),wt={class:"icon"},yt=["src"],St={class:"card"},bt={class:"info"},Ct=o(()=>t("div",{class:"title"},[t("p",null,"Ordens reagendadas")],-1)),kt={class:"value"},At=o(()=>t("span",null,null,-1)),Pt={class:"icon"},Dt=["src"],Vt={class:"card"},Bt={class:"info"},It=o(()=>t("div",{class:"title"},[t("p",null,"Ordens pendentes")],-1)),Ot={class:"value"},Tt=o(()=>t("span",null,null,-1)),Lt={class:"icon"},zt=["src"],Ft={class:"actions"},Mt={class:"search"},Nt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 513.749 513.749",style:{"enable-background":"new 0 0 513.749 513.749"},"xml:space":"preserve",width:"512",height:"512"},$t=o(()=>t("g",null,[t("path",{d:"M504.352,459.061l-99.435-99.477c74.402-99.427,54.115-240.344-45.312-314.746S119.261-9.277,44.859,90.15   S-9.256,330.494,90.171,404.896c79.868,59.766,189.565,59.766,269.434,0l99.477,99.477c12.501,12.501,32.769,12.501,45.269,0   c12.501-12.501,12.501-32.769,0-45.269L504.352,459.061z M225.717,385.696c-88.366,0-160-71.634-160-160s71.634-160,160-160   s160,71.634,160,160C385.623,314.022,314.044,385.602,225.717,385.696z"})],-1)),Et=[$t],Gt={class:"period"},Zt={class:"status"},qt=J('<option value="all" data-v-997d3693>Todos</option><option value="surplus" data-v-997d3693>Excedentes</option><option value="approved" data-v-997d3693>Aprovado</option><option value="rescheduled" data-v-997d3693>Reagendas</option><option value="pending" data-v-997d3693>Pendentes</option>',5),Ut=[qt],jt=o(()=>t("div",{class:"clear"},[t("button",null,[t("svg",{xmlns:"http://www.w3.org/2000/svg",id:"Layer_1","data-name":"Layer 1",viewBox:"0 0 24 24"},[t("path",{d:"m17,0c-3.86,0-7,3.14-7,7s3.14,7,7,7,7-3.14,7-7S20.86,0,17,0Zm0,12c-2.757,0-5-2.243-5-5s2.243-5,5-5,5,2.243,5,5-2.243,5-5,5Zm2.957-6.543l-1.543,1.543,1.543,1.543-1.414,1.414-1.543-1.543-1.543,1.543-1.414-1.414,1.543-1.543-1.543-1.543,1.414-1.414,1.543,1.543,1.543-1.543,1.414,1.414Zm-7.957,9.025c.616.412,1.289.743,2,.995v8.523l-6-4.5v-5.12L0,5.38v-2.38C0,1.346,1.346,0,3,0h8.349c-.706.571-1.325,1.244-1.831,2H3c-.551,0-1,.449-1,1v1.62l8,9v4.88l2,1.5v-5.518Z"})])])],-1)),Ht={class:"table_orders"},Jt=o(()=>t("thead",null,[t("tr",null,[t("th",{style:{"text-align":"left"}},"Protocolo"),t("th",null,"Tipo"),t("th",{style:{"text-align":"left"}},"Serviço"),t("th",null,"Agendamento"),t("th",null,"Período"),t("th",{style:{"text-align":"left"}},"Status"),t("th",null,"Aberta por"),t("th",null,"Setor"),t("th",null,"Solicitante"),t("th",null,"Aprovado por"),t("th",null,"Ações")])],-1)),Kt={style:{"text-align":"left"}},Rt={style:{"text-align":"left"}},Wt={class:"status"},Yt=o(()=>t("td",null,null,-1)),Qt={key:0,class:"actions_order",xmlns:"http://www.w3.org/2000/svg",id:"Outline",viewBox:"0 0 24 24",width:"512",height:"512"},Xt=o(()=>t("circle",{cx:"12",cy:"2",r:"2"},null,-1)),ts=o(()=>t("circle",{cx:"12",cy:"12",r:"2"},null,-1)),ss=o(()=>t("circle",{cx:"12",cy:"22",r:"2"},null,-1)),es=[Xt,ts,ss],os=z({__name:"DashboardScheduleCapacity",setup(p){const P=F(),f=c({}),D=()=>{P.setInfoPage({title:"Agenda Técnica Aniel",subtitle:"Aprove o excedente de ordens de serviço que não entraram no sistema por limitação do capacity."})};c("all");const d=c([]),v=new Date,V=v.getFullYear(),B=String(v.getMonth()+1).padStart(2,"0"),I=String(v.getDate()).padStart(2,"0"),O=`${V}-${B}-${I}`,h=c(O),g=c(""),i=c("all"),w=()=>{E({url:"https://v2.ageportal.agetelecom.com.br/integrator/aniel/management-schedule/dashboard",method:"GET",params:{period:h.value},headers:{"Content-Type":"application/json",Authorization:"Bearer "+G.get("token")}}).then(l=>{d.value=l.data}).catch(l=>{console.log(l)})},y=m(()=>d.value.reduce((l,e)=>{const n=e.status_order.filter(s=>s.id===15).length;return l+n},0)),S=m(()=>d.value.reduce((l,e)=>{const n=e.status_order.filter(s=>s.id===16).length;return l+n},0)),T=m(()=>{const l=g.value.toString().toLowerCase();return d.value.filter(e=>{const n=e.protocolo.toLowerCase().includes(l);let s=!0;return i.value==="approved"?s=e.status_order[0].id===15:i.value==="rescheduled"?s=e.status_order[0].id===16:i.value==="pending"&&(s=e.status_order[0].id!==15&&e.status_order[0].id!==16),n&&s})});return w(),D(),(l,e)=>{const n=Z("router-link");return _(),r("div",tt,[t("div",st,[t("div",et,[b(n,{"exact-active-class":"select",to:"/ageIntegra/agenda-aniel",onClick:e[0]||(e[0]=s=>f.value="operational")},{default:C(()=>[A("Operacional")]),_:1}),b(n,{"exact-active-class":"select",to:"/ageIntegra/agenda-aniel/dashboard",onClick:e[1]||(e[1]=s=>f.value="dashboard")},{default:C(()=>[A("Dashboard")]),_:1})])]),t("div",ot,[t("div",at,[lt,t("div",nt,[t("img",{src:u(Q),alt:""},null,8,dt)])]),t("div",ct,[t("div",it,[rt,t("div",ut,[t("span",null,a(d.value.length),1),_t])]),t("div",pt,[t("img",{src:u(Y),alt:""},null,8,vt)])]),t("div",ht,[t("div",gt,[mt,t("div",xt,[t("span",null,a(y.value),1),ft])]),t("div",wt,[t("img",{src:u(W),alt:""},null,8,yt)])]),t("div",St,[t("div",bt,[Ct,t("div",kt,[t("span",null,a(S.value),1),At])]),t("div",Pt,[t("img",{src:u(X),alt:""},null,8,Dt)])]),t("div",Vt,[t("div",Bt,[It,t("div",Ot,[t("span",null,a(d.value.length-y.value-S.value),1),Tt])]),t("div",Lt,[t("img",{src:u(R),alt:""},null,8,zt)])])]),t("div",Ft,[t("div",Mt,[(_(),r("svg",Nt,Et)),x(t("input",{type:"number",placeholder:"Pesquisar (Protocolo)","onUpdate:modelValue":e[2]||(e[2]=s=>g.value=s)},null,512),[[k,g.value]])]),t("div",Gt,[x(t("input",{type:"date",name:"period","onUpdate:modelValue":e[3]||(e[3]=s=>h.value=s),onChange:w},null,544),[[k,h.value]])]),t("div",Zt,[x(t("select",{name:"status",id:"status","onUpdate:modelValue":e[4]||(e[4]=s=>i.value=s)},Ut,512),[[M,i.value]])]),jt]),t("div",Ht,[t("table",null,[Jt,t("tbody",null,[(_(!0),r(N,null,$(T.value,(s,L)=>(_(),r("tr",{key:L},[t("td",Kt,"# "+a(s.protocolo),1),t("td",null,a(s.servico),1),t("td",Rt,a(s.subservico),1),t("td",null,a(s.hora_agendamento),1),t("td",null,a(s.periodo),1),t("td",null,[t("div",Wt,[t("div",{class:"badge",style:q({backgroundColor:s.status_order[0].cor_indicativa})},null,4),t("span",null,a(s.status_order[0].titulo),1)])]),t("td",null,a(s.aberta_por),1),t("td",null,a(s.setor),1),Yt,t("td",null,a(s.aprovador),1),t("td",null,[s.status_order[0].id!=15?(_(),r("svg",Qt,es)):U("",!0)])]))),128))])])])])}}}),ls=K(os,[["__scopeId","data-v-997d3693"]]);export{ls as default};
