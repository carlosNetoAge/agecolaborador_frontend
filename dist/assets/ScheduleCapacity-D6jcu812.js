import{d as w,a as d,p as V,R as X,l as c,q as e,F as g,x as D,A as F,C as B,o as l,L as b,E as r,N as U,_ as R,k as q,y as A,z,J as M,K as G,S,G as H,H as J}from"./index-CO4deE9E.js";const K="/assets/morning-CSKRONwJ.png",j="/assets/afternoon-CHR2RdtE.png",Y={class:"calendar"},Q={class:"months"},W=["onClick"],Z=["onClick"],ee={class:"dayName"},ae={class:"dayNumber"},te={key:0,class:"dots-container"},se=U('<div class="dot" data-v-0e574e8e></div><div class="dot" data-v-0e574e8e></div><div class="dot" data-v-0e574e8e></div><div class="dot" data-v-0e574e8e></div><div class="dot" data-v-0e574e8e></div>',5),ne=[se],oe=w({__name:"CalendarOperational",props:{statusCalendar:Boolean},emits:["updateData"],setup(p,{emit:x}){const L=p,v=d({}),h=x,y=new Date,m=d(a(y)),f=d(y.getDate()),i=t=>{if(!t){t=new Date;const u=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0"),$=`${u}-${s}-${o}`;return h("updateData",$)}return h("updateData",t)},k=async()=>{B({method:"get",url:"http://localhost:8000/integrator/aniel/capacity/calendar",headers:{"Content-Type":"application/json"}}).then(t=>{v.value=t.data,i(),T()})};function a(t){const u={month:"long"},s=t.toLocaleString("pt-BR",u);return s.charAt(0).toUpperCase()+s.slice(1)}const _=d(!1),E=d(0),I=d(0),n=d(null),P=t=>{var u,s;_.value=!0,E.value=t.pageX-(((u=n.value)==null?void 0:u.offsetLeft)||0),I.value=((s=n.value)==null?void 0:s.scrollLeft)||0},N=t=>{var o;if(!_.value)return;t.preventDefault();const s=(t.pageX-(((o=n.value)==null?void 0:o.offsetLeft)||0)-E.value)*2;n.value&&(n.value.scrollLeft=I.value-s)},C=()=>{_.value=!1},T=()=>{n.value&&(n.value.addEventListener("mousemove",N),n.value.addEventListener("mouseup",C),n.value.addEventListener("mouseleave",C))};return V(()=>{k()}),X(()=>{n.value&&(n.value.removeEventListener("mousemove",N),n.value.removeEventListener("mouseup",C),n.value.removeEventListener("mouseleave",C))}),(t,u)=>(l(),c("div",Y,[e("div",Q,[(l(!0),c(g,null,D(v.value,(s,o)=>(l(),c("div",{key:o,class:b({month:!0,select:o===m.value}),onClick:$=>[m.value=o,f.value=0]},r(o),11,W))),128))]),e("div",{ref_key:"container",ref:n,class:"days",onMousedown:P},[(l(!0),c(g,null,D(v.value[m.value],(s,o)=>(l(),c("div",{class:"day",key:o},[e("div",{class:b(["box",{selectedDay:f.value===s.day}]),onClick:$=>[f.value=s.day,i(s.extense)]},[e("span",ee,r(s.name),1),e("span",ae,r(s.day),1)],10,Z)]))),128))],544),L.statusCalendar?F("",!0):(l(),c("section",te,ne))]))}}),ce=R(oe,[["__scopeId","data-v-0e574e8e"]]),O=p=>(H("data-v-f1b20f47"),p=p(),J(),p),le={class:"options"},de={class:"container_content"},ie={class:"capacity"},re={class:"period"},ue={class:"header"},ve=O(()=>e("div",{class:"title"}," Capacidade período Manhã ",-1)),_e=["src"],pe={class:"services"},he={class:"title"},fe={class:"progress"},me=["value","max"],ge={class:"info"},ye={class:"period"},Ce={class:"header"},De=O(()=>e("div",{class:"title"}," Capacidade período Tarde ",-1)),xe=["src"],ke={class:"services"},$e={class:"title"},Se={class:"progress"},Le=["value","max"],Ee={class:"info"},Ie=w({__name:"ScheduleCapacity",setup(p){const x=q();(()=>{x.setInfoPage({title:"Agenda Técnica Aniel",subtitle:"Acompanhe a capacidade de agendamento em tempo real"})})();const v=d(!1),h=d({}),y=f=>{v.value=!1,B({url:"http://localhost:8000/integrator/aniel/capacity",params:{period:f},method:"GET"}).then(i=>{v.value=!0,h.value=i.data}).catch(i=>{console.log(i)})},m=d("operational");return(f,i)=>{const k=G("router-link");return l(),c(g,null,[e("div",le,[A(k,{"exact-active-class":"select",to:"/ageIntegra/agenda-aniel",onClick:i[0]||(i[0]=a=>m.value="operational")},{default:z(()=>[S("Operacional")]),_:1})]),A(ce,{onUpdateData:y,statusCalendar:v.value},null,8,["statusCalendar"]),e("div",de,[e("div",ie,[e("div",re,[e("div",ue,[ve,e("img",{src:M(K),alt:""},null,8,_e)]),e("div",pe,[(l(!0),c(g,null,D(h.value.capacity||[],(a,_)=>(l(),c("div",{class:"service",key:a.id},[e("div",he,[e("h3",null,r(_),1)]),e("div",fe,[e("progress",{value:a.manha.used,max:a.manha.capacity},null,8,me),e("div",ge,[e("span",null,[e("b",null,r(Math.abs(a.manha.capacity-a.manha.used)),1),S(" - "+r(a.manha.capacity-a.manha.used>=0?"Disponíveis":"Excedentes"),1)])])])]))),128))])]),e("div",ye,[e("div",Ce,[De,e("img",{src:M(j),alt:""},null,8,xe)]),e("div",ke,[(l(!0),c(g,null,D(h.value.capacity||[],(a,_)=>(l(),c("div",{class:"service",key:a.id},[e("div",$e,[e("h3",null,r(_),1)]),e("div",Se,[e("progress",{value:a.tarde.used,max:a.tarde.capacity},null,8,Le),e("div",Ee,[e("span",null,[e("b",null,r(Math.abs(a.tarde.capacity-a.tarde.used)),1),S(" - "+r(a.tarde.capacity-a.tarde.used>=0?"Disponíveis":"Excedentes"),1)])])])]))),128))])])])])],64)}}}),be=R(Ie,[["__scopeId","data-v-f1b20f47"]]);export{be as default};
