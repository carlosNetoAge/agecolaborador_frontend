import{d as P,k as V,a as r,O as N,l as o,q as t,y,z as S,u as m,U as b,v as M,F as k,x as $,C as z,D as H,K as R,o as s,S as f,E as d,J as c,G as T,H as U,N as q,_ as X}from"./index-C4tCn7fn.js";const C="/assets/confirm-Bt6C-TPo.png",j="/assets/pending-DiSv79qu.png",E="/assets/not_sending-Ca5jW9XR.png",J="/assets/schedule-BQ7OQ84X.png",Q="/assets/place-DROFwzNo.png",W="/assets/service-BekhWjbd.png",u=p=>(T("data-v-16fd33a8"),p=p(),U(),p),G={class:"options"},K={class:"operational__dashboard"},Y={class:"filters"},tt={class:"actions"},et={class:"search"},at={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 513.749 513.749",style:{"enable-background":"new 0 0 513.749 513.749"},"xml:space":"preserve",width:"512",height:"512"},ot=u(()=>t("g",null,[t("path",{d:"M504.352,459.061l-99.435-99.477c74.402-99.427,54.115-240.344-45.312-314.746S119.261-9.277,44.859,90.15   S-9.256,330.494,90.171,404.896c79.868,59.766,189.565,59.766,269.434,0l99.477,99.477c12.501,12.501,32.769,12.501,45.269,0   c12.501-12.501,12.501-32.769,0-45.269L504.352,459.061z M225.717,385.696c-88.366,0-160-71.634-160-160s71.634-160,160-160   s160,71.634,160,160C385.623,314.022,314.044,385.602,225.717,385.696z"})],-1)),st=[ot],nt={class:"period"},lt={class:"status"},ct=q('<option value="all" data-v-16fd33a8>Todos Status</option><option value="closed_productive" data-v-16fd33a8>Fechada produtiva</option><option value="pending_att" data-v-16fd33a8>Aguardando atendimento</option><option value="pending_technical" data-v-16fd33a8>Aguardando Responsável</option><option value="displacement" data-v-16fd33a8>Os em deslocamento</option><option value="closed_improductive" data-v-16fd33a8>Fechada improdutiva</option>',6),it=[ct],dt=u(()=>t("div",{class:"clear"},[t("button",null,[t("svg",{xmlns:"http://www.w3.org/2000/svg",id:"Layer_1","data-name":"Layer 1",viewBox:"0 0 24 24"},[t("path",{d:"m17,0c-3.86,0-7,3.14-7,7s3.14,7,7,7,7-3.14,7-7S20.86,0,17,0Zm0,12c-2.757,0-5-2.243-5-5s2.243-5,5-5,5,2.243,5,5-2.243,5-5,5Zm2.957-6.543l-1.543,1.543,1.543,1.543-1.414,1.414-1.543-1.543-1.543,1.543-1.414-1.414,1.543-1.543-1.543-1.543,1.414-1.414,1.543,1.543,1.543-1.543,1.414,1.414Zm-7.957,9.025c.616.412,1.289.743,2,.995v8.523l-6-4.5v-5.12L0,5.38v-2.38C0,1.346,1.346,0,3,0h8.349c-.706.571-1.325,1.244-1.831,2H3c-.551,0-1,.449-1,1v1.62l8,9v4.88l2,1.5v-5.518Z"})])])],-1)),rt={class:"table_orders"},ut=u(()=>t("thead",null,[t("tr",null,[t("th",{style:{"text-align":"left"}},"Protocolo"),t("th",{style:{"text-align":"left"}},"Serviço"),t("th",null,"Agendamento"),t("th",{style:{"text-align":"left"}},"Status"),t("th",{style:{"text-align":"left"}},"Confirmação do cliente"),t("th",{style:{"text-align":"left"}},"Localidade"),t("th",null,"Ações")])],-1)),pt={style:{"text-align":"left"}},_t=["onClick"],ht={style:{"text-align":"left"}},vt={class:"flex"},gt=["src"],mt={class:"flex"},ft=["src"],xt={class:"flex"},wt=["fill"],yt=u(()=>t("path",{d:"m24,24H0v-1c0-1.654,1.346-3,3-3h18c1.654,0,3,1.346,3,3v1ZM3.718,5.202L1.4,2.982.018,4.426l2.317,2.22,1.383-1.443Zm3.862-2.493L6.367-.008l-1.826.814,1.213,2.717,1.826-.814Zm16.402,1.717l-1.383-1.443-2.317,2.22,1.383,1.443,2.317-2.22Zm-4.523-3.619L17.633-.008l-1.213,2.717,1.826.814,1.213-2.717Zm1.541,12.193c0-4.963-4.037-9-9-9S3,8.037,3,13v5h18v-5Zm-9-2c-1.103,0-2,.897-2,2h-2c0-2.206,1.794-4,4-4v2Z"},null,-1)),St=[yt],bt={style:{"text-align":"left"}},kt={class:"flex"},Ct=["src"],At=["src"],It=["src"],Lt=["src"],Ot={class:"flex"},Zt=["src"],Bt=u(()=>t("td",null,null,-1)),Dt=P({__name:"OperationalSchedule",setup(p){const A=V(),x=r([]),_=r(""),l=r("all"),h=new Date,I=h.getFullYear(),L=String(h.getMonth()+1).padStart(2,"0"),O=String(h.getDate()).padStart(2,"0"),Z=`${I}-${L}-${O}`,v=r(Z);(()=>{A.setInfoPage({title:"Agenda Operacional Aniel",subtitle:"Acompanhe o status de agendamento em tempo real"})})();const w=r("operational"),g=()=>{z({url:"https://v2.ageportal.agetelecom.com.br/integrator/aniel/management-schedule/dashboard-operational",method:"get",params:{period:v.value},headers:{Authorization:"Bearer "+H.get("token")}}).then(n=>{x.value=n.data}).catch(n=>{console.log(n)})},B=N(()=>{const n=_.value.toString().toLowerCase();return x.value.filter(a=>{const i=a.protocolo.toLowerCase().includes(n);let e=!0;return l.value==="closed_productive"?e=a.status==="Fechada Produtiva":l.value==="pending_att"?e=a.status==="Aberta Aguardando Atendimento":l.value==="closed_improductive"?e=a.status==="Fechada Improdutiva":l.value==="pending_technical"?e=a.status==="Aberta Aguardando Responsável":l.value==="displacement"&&(e=a.status==="OS em Deslocamento"),i&&e})});g(),setInterval(()=>{g()},1e4);const D=function(n){const i=btoa(JSON.stringify({personId:n,pbxInfo:{},availableAttendance:!0}));window.open("https://erp.agetelecom.com.br/people_informations?hash="+i,"_blank")};return(n,a)=>{const i=R("router-link");return s(),o(k,null,[t("div",G,[y(i,{"exact-active-class":"select",to:"/ageIntegra/agenda-aniel",onClick:a[0]||(a[0]=e=>w.value="capacity")},{default:S(()=>[f("Capacidade")]),_:1}),y(i,{"exact-active-class":"select",to:"/ageIntegra/agenda-aniel/operacional",onClick:a[1]||(a[1]=e=>w.value="operational")},{default:S(()=>[f("Operacional")]),_:1})]),t("div",K,[t("div",Y,[t("div",tt,[t("div",et,[(s(),o("svg",at,st)),m(t("input",{type:"number",placeholder:"Pesquisar (Protocolo)","onUpdate:modelValue":a[2]||(a[2]=e=>_.value=e)},null,512),[[b,_.value]])]),t("div",nt,[m(t("input",{type:"date",name:"period","onUpdate:modelValue":a[3]||(a[3]=e=>v.value=e),onChange:g},null,544),[[b,v.value]])]),t("div",lt,[m(t("select",{name:"status",id:"status","onUpdate:modelValue":a[4]||(a[4]=e=>l.value=e)},it,512),[[M,l.value]])]),dt])]),t("div",rt,[t("table",null,[ut,t("tbody",null,[(s(!0),o(k,null,$(B.value,(e,F)=>(s(),o("tr",{key:F},[t("td",pt,[t("b",{onClick:Pt=>D(e.cliente_id),style:{"user-select":"none",cursor:"pointer"}},"# ",8,_t),f(d(e.protocolo),1)]),t("td",ht,[t("div",vt,[t("img",{src:c(W),alt:"servico"},null,8,gt),t("span",null,d(e.sub_servico),1)])]),t("td",null,[t("div",mt,[t("img",{src:c(J),alt:"agenda"},null,8,ft),t("span",null,d(e.data_agendamento),1)])]),t("td",null,[t("div",xt,[(s(),o("svg",{fill:e.cor_indicativa??"#cccccc",xmlns:"http://www.w3.org/2000/svg",id:"Layer_1","data-name":"Layer 1",viewBox:"0 0 24 24",width:"512",height:"512"},St,8,wt)),t("span",null,d(e.status),1)])]),t("td",bt,[t("div",kt,[e.confirmacao_cliente=="Confirmado"?(s(),o("img",{key:0,src:c(C),alt:"confirmado"},null,8,Ct)):e.confirmacao_cliente=="Pendente"?(s(),o("img",{key:1,src:c(E),alt:"pendente"},null,8,At)):e.confirmacao_cliente=="Atendente"?(s(),o("img",{key:2,src:c(C),alt:"confirmado"},null,8,It)):(s(),o("img",{key:3,src:c(j),alt:"confirmado"},null,8,Lt)),t("span",null,d(e.confirmacao_cliente??"Não enviada"),1)])]),t("td",null,[t("div",Ot,[t("img",{src:c(Q),alt:"local"},null,8,Zt),t("span",null,d(e.localidade),1)])]),Bt]))),128))])])])])],64)}}}),Nt=X(Dt,[["__scopeId","data-v-16fd33a8"]]);export{Nt as default};
