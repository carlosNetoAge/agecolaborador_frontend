import{d as Z,a as u,p as Q,l as n,q as e,F as T,x as P,A as B,E as o,C as R,D as z,o as d,L as W,G as F,H as j,_ as E,S as m,M as V,P as H,k as X,O as U,y as M,z as G,J as L,u as N,U as q,v as ee,K as te,N as se}from"./index-9ohaK8M2.js";const oe="/assets/order_warning-CQvWwiF1.png",ae="/assets/order_approval-bze_dPfJ.png",le="/assets/order_surplus-BGa76hjP.png",de="/assets/order_all-C1TV9-7P.png",ne="/assets/order_rescheduled-BmTKGCY8.png",Y=t=>(F("data-v-fca4bad3"),t=t(),j(),t),ce={class:"reschedule_modal"},re={class:"card"},ie={class:"close__btn"},ue=Y(()=>e("path",{d:"m12,0C5.383,0,0,5.383,0,12s5.383,12,12,12,12-5.383,12-12S18.617,0,12,0Zm3.707,14.293c.391.391.391,1.023,0,1.414-.195.195-.451.293-.707.293s-.512-.098-.707-.293l-2.293-2.293-2.293,2.293c-.195.195-.451.293-.707.293s-.512-.098-.707-.293c-.391-.391-.391-1.023,0-1.414l2.293-2.293-2.293-2.293c-.391-.391-.391-1.023,0-1.414s1.023-.391,1.414,0l2.293,2.293,2.293-2.293c.391-.391,1.023-.391,1.414,0s.391,1.023,0,1.414l-2.293,2.293,2.293,2.293Z"},null,-1)),ve=[ue],_e=Y(()=>e("h1",null,"Reagendar Ordem de Serviço",-1)),he={key:0,class:"days"},pe={class:"day"},ge={class:"infoDay"},me={class:"period"},Se=["onClick","disabled"],be={class:"reschedule-button"},fe=Z({__name:"RescheduleOrder",props:["osSelected"],emits:["closeModal","closeAll"],setup(t,{emit:k}){const{osSelected:S}=t;u(!1);const x=u(""),r=u([]),v=u(!0),$=k,p=()=>{$("closeModal")},y=()=>{$("closeAll")},A=()=>{v.value=!0,R({url:"https://v2.ageportal.agetelecom.com.br/integrator/aniel/capacity/reschedule",method:"get",params:{typeService:S.servico},headers:{"Content-Type":"application/json",Authorization:"Bearer "+z.get("token")}}).then(i=>{r.value=i.data,v.value=!1}).catch(i=>{console.log(i)})},l=["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],g=i=>{const _=new Date(i),w=_.getUTCDate(),O=l[_.getUTCMonth()],c=_.getUTCFullYear();return`${w} de ${O} de ${c}`},b=u({date:"",period:"",order:""}),D=(i,_)=>{b.value={date:i,period:_,order:S.protocolo},x.value=`${i} ${_}`},I=()=>{R({url:"https://v2.ageportal.agetelecom.com.br/integrator/aniel/management-schedule/reschedule-order",method:"post",data:{order:b.value.order,period:b.value.period,date:b.value.date},headers:{"Content-Type":"application/json",Authorization:"Bearer "+z.get("token")}}).then(i=>{y()}).catch(i=>{console.log(i)})};return Q(()=>{A()}),(i,_)=>(d(),n("div",ce,[e("div",re,[e("div",ie,[(d(),n("svg",{onClick:_[0]||(_[0]=w=>p()),xmlns:"http://www.w3.org/2000/svg",id:"Layer_1","data-name":"Layer 1",viewBox:"0 0 24 24",width:"512",height:"512"},ve))]),_e,v.value?B("",!0):(d(),n("div",he,[(d(!0),n(T,null,P(r.value,(w,O)=>(d(),n("div",pe,[e("div",ge,[e("p",null,o(w.dayName)+", "+o(g(O)),1)]),e("div",me,[(d(!0),n(T,null,P(w.period||[],(c,s)=>(d(),n("button",{onClick:f=>D(O,s),class:W({selected:x.value==O+" "+s,disable:c.status!="aberta"}),disabled:c.status!="aberta"},o(s),11,Se))),256))])]))),256))])),e("div",be,[x.value!=""?(d(),n("button",{key:0,onClick:_[1]||(_[1]=w=>I())}," Reagendar ordem de serviço # "+o(t.osSelected.protocolo),1)):B("",!0)])])]))}}),$e=E(fe,[["__scopeId","data-v-fca4bad3"]]),J=t=>(F("data-v-5a729f5e"),t=t(),j(),t),ye={class:"modal__log"},we={class:"card"},Ce={class:"close__btn"},xe=J(()=>e("path",{d:"m12,0C5.383,0,0,5.383,0,12s5.383,12,12,12,12-5.383,12-12S18.617,0,12,0Zm3.707,14.293c.391.391.391,1.023,0,1.414-.195.195-.451.293-.707.293s-.512-.098-.707-.293l-2.293-2.293-2.293,2.293c-.195.195-.451.293-.707.293s-.512-.098-.707-.293c-.391-.391-.391-1.023,0-1.414l2.293-2.293-2.293-2.293c-.391-.391-.391-1.023,0-1.414s1.023-.391,1.414,0l2.293,2.293,2.293-2.293c.391-.391,1.023-.391,1.414,0s.391,1.023,0,1.414l-2.293,2.293,2.293,2.293Z"},null,-1)),ke=[xe],Oe=J(()=>e("h1",null,"Histórico da Ordem de Serviço",-1)),Ae={class:"logs"},Ie=Z({__name:"LogOrder",props:["osStatus"],emits:["closeModal"],setup(t,{emit:k}){const S=k,x=()=>{S("closeModal")},r=v=>new Date(v).toLocaleString();return(v,$)=>(d(),n("div",ye,[e("div",we,[e("div",Ce,[(d(),n("svg",{onClick:$[0]||($[0]=p=>x()),xmlns:"http://www.w3.org/2000/svg",id:"Layer_1","data-name":"Layer 1",viewBox:"0 0 24 24",width:"512",height:"512"},ke))]),Oe,e("div",Ae,[(d(!0),n(T,null,P(t.osStatus,(p,y)=>(d(),n("div",{class:"log",key:y},[e("span",null,[m(o(p.descricao)+" - ",1),e("b",null,o(p.created_at?r(p.created_at):"00/00/2024, 00:00:00"),1)]),e("span",{style:V({backgroundColor:p.cor_indicativa})},o(p.titulo),5)]))),128))])])]))}}),Le=E(Ie,[["__scopeId","data-v-5a729f5e"]]),C=t=>(F("data-v-6846f572"),t=t(),j(),t),Be={key:0,class:"modal"},De={class:"card"},Me={class:"close__btn"},Te=C(()=>e("path",{d:"m12,0C5.383,0,0,5.383,0,12s5.383,12,12,12,12-5.383,12-12S18.617,0,12,0Zm3.707,14.293c.391.391.391,1.023,0,1.414-.195.195-.451.293-.707.293s-.512-.098-.707-.293l-2.293-2.293-2.293,2.293c-.195.195-.451.293-.707.293s-.512-.098-.707-.293c-.391-.391-.391-1.023,0-1.414l2.293-2.293-2.293-2.293c-.391-.391-.391-1.023,0-1.414s1.023-.391,1.414,0l2.293,2.293,2.293-2.293c.391-.391,1.023-.391,1.414,0s.391,1.023,0,1.414l-2.293,2.293,2.293,2.293Z"},null,-1)),Pe=[Te],Re=C(()=>e("h1",null,"Gerenciamento da Ordem de Serviço",-1)),ze={class:"info"},Ve=C(()=>e("b",null,"Protocolo:",-1)),Ze=C(()=>e("b",null,"Servico:",-1)),Fe=C(()=>e("b",null,"Tipo de serviço:",-1)),je=C(()=>e("b",null,"Agendamento:",-1)),Ee=C(()=>e("b",null,"Periodo:",-1)),Ue=C(()=>e("b",null,"Status:",-1)),Ge=C(()=>e("b",null,"Localidade:",-1)),Ne={class:"options"},He=["disabled"],qe=["disabled"],Ye=Z({__name:"ActionsOrder",props:["osSelected","modalStatus"],emits:["closeModal"],setup(t,{emit:k}){const{osSelected:S,modalStatus:x}=t,r=u(!1),v=u(!1),$=A=>{R({url:"https://v2.ageportal.agetelecom.com.br/integrator/aniel/management-schedule/approval-order",method:"POST",data:{order:A},headers:{"Content-Type":"application/json",Authorization:"Bearer "+z.get("token")}}).then(l=>{y(),S.value=[]}).catch(l=>{console.log(l)})},p=k,y=()=>{p("closeModal")};return(A,l)=>t.modalStatus?(d(),n("div",Be,[e("div",De,[e("div",Me,[(d(),n("svg",{onClick:y,xmlns:"http://www.w3.org/2000/svg",id:"Layer_1","data-name":"Layer 1",viewBox:"0 0 24 24",width:"512",height:"512"},Pe))]),Re,e("div",ze,[e("p",null,[Ve,m(" #"+o(t.osSelected.protocolo),1)]),e("p",null,[Ze,m(" "+o(t.osSelected.servico),1)]),e("p",null,[Fe,m(" "+o(t.osSelected.subservico),1)]),e("p",null,[je,m(" "+o(t.osSelected.hora_agendamento),1)]),e("p",null,[Ee,m(" "+o(t.osSelected.periodo),1)]),e("p",null,[Ue,m(" "+o(t.osSelected.status_order[0].titulo),1)]),e("p",null,[Ge,m(" "+o(t.osSelected.localidade),1)])]),e("div",Ne,[e("button",{onClick:l[0]||(l[0]=g=>$(t.osSelected.protocolo)),disabled:t.osSelected.status_order[0].id==15||t.osSelected.status_order[0].id==16,style:V({backgroundColor:t.osSelected.status_order[0].id==15||t.osSelected.status_order[0].id==16?"#ccc":"#11B15B",color:t.osSelected.status_order[0].id==15||t.osSelected.status_order[0].id==16?"#111":"#fff",cursor:t.osSelected.status_order[0].id==15||t.osSelected.status_order[0].id==16?"not-allowed":"pointer"})}," Aprovar entrada ",12,He),e("button",{onClick:l[1]||(l[1]=g=>r.value=!0),disabled:t.osSelected.status_order[0].id==15||t.osSelected.status_order[0].id==16,style:V({backgroundColor:t.osSelected.status_order[0].id==15||t.osSelected.status_order[0].id==16?"#ccc":"#53AEE2",color:t.osSelected.status_order[0].id==15||t.osSelected.status_order[0].id==16?"#111":"#fff",cursor:t.osSelected.status_order[0].id==15||t.osSelected.status_order[0].id==16?"not-allowed":"pointer"})}," Reagendar OS ",12,qe),e("button",{onClick:l[2]||(l[2]=g=>v.value=!0),style:{"background-color":"#5183FF",color:"#fff"}},"Histórico da OS")])]),r.value?(d(),H($e,{key:0,onCloseAll:l[3]||(l[3]=g=>[y(),r.value=!1]),onCloseModal:l[4]||(l[4]=g=>r.value=!1),osSelected:t.osSelected},null,8,["osSelected"])):B("",!0),v.value?(d(),H(Le,{key:1,onCloseModal:l[5]||(l[5]=g=>v.value=!1),osStatus:t.osSelected.status_order},null,8,["osStatus"])):B("",!0)])):B("",!0)}}),Je=E(Ye,[["__scopeId","data-v-6846f572"]]),h=t=>(F("data-v-c4273c6b"),t=t(),j(),t),Ke={class:"dashboard__page"},Qe={class:"options"},We={class:"navbar"},Xe={class:"cards"},et={class:"card"},tt=h(()=>e("div",{class:"info"},[e("div",{class:"title"},[e("p",null,"Ordens do dia")]),e("div",{class:"value"},[e("span",null," - "),e("span")])],-1)),st={class:"icon"},ot=["src"],at={class:"card"},lt={class:"info"},dt=h(()=>e("div",{class:"title"},[e("p",null,"Ordens excedentes")],-1)),nt={class:"value"},ct=h(()=>e("span",null,null,-1)),rt={class:"icon"},it=["src"],ut={class:"card"},vt={class:"info"},_t=h(()=>e("div",{class:"title"},[e("p",null,"Ordens aprovadas")],-1)),ht={class:"value"},pt=h(()=>e("span",null,null,-1)),gt={class:"icon"},mt=["src"],St={class:"card"},bt={class:"info"},ft=h(()=>e("div",{class:"title"},[e("p",null,"Ordens reagendadas")],-1)),$t={class:"value"},yt=h(()=>e("span",null,null,-1)),wt={class:"icon"},Ct=["src"],xt={class:"card"},kt={class:"info"},Ot=h(()=>e("div",{class:"title"},[e("p",null,"Ordens pendentes")],-1)),At={class:"value"},It=h(()=>e("span",null,null,-1)),Lt={class:"icon"},Bt=["src"],Dt={class:"actions"},Mt={class:"search"},Tt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 513.749 513.749",style:{"enable-background":"new 0 0 513.749 513.749"},"xml:space":"preserve",width:"512",height:"512"},Pt=h(()=>e("g",null,[e("path",{d:"M504.352,459.061l-99.435-99.477c74.402-99.427,54.115-240.344-45.312-314.746S119.261-9.277,44.859,90.15   S-9.256,330.494,90.171,404.896c79.868,59.766,189.565,59.766,269.434,0l99.477,99.477c12.501,12.501,32.769,12.501,45.269,0   c12.501-12.501,12.501-32.769,0-45.269L504.352,459.061z M225.717,385.696c-88.366,0-160-71.634-160-160s71.634-160,160-160   s160,71.634,160,160C385.623,314.022,314.044,385.602,225.717,385.696z"})],-1)),Rt=[Pt],zt={class:"period"},Vt={class:"status"},Zt=se('<option value="all" data-v-c4273c6b>Todos</option><option value="surplus" data-v-c4273c6b>Excedentes</option><option value="approved" data-v-c4273c6b>Aprovado</option><option value="rescheduled" data-v-c4273c6b>Reagendas</option><option value="pending" data-v-c4273c6b>Pendentes</option>',5),Ft=[Zt],jt=h(()=>e("div",{class:"clear"},[e("button",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",id:"Layer_1","data-name":"Layer 1",viewBox:"0 0 24 24"},[e("path",{d:"m17,0c-3.86,0-7,3.14-7,7s3.14,7,7,7,7-3.14,7-7S20.86,0,17,0Zm0,12c-2.757,0-5-2.243-5-5s2.243-5,5-5,5,2.243,5,5-2.243,5-5,5Zm2.957-6.543l-1.543,1.543,1.543,1.543-1.414,1.414-1.543-1.543-1.543,1.543-1.414-1.414,1.543-1.543-1.543-1.543,1.414-1.414,1.543,1.543,1.543-1.543,1.414,1.414Zm-7.957,9.025c.616.412,1.289.743,2,.995v8.523l-6-4.5v-5.12L0,5.38v-2.38C0,1.346,1.346,0,3,0h8.349c-.706.571-1.325,1.244-1.831,2H3c-.551,0-1,.449-1,1v1.62l8,9v4.88l2,1.5v-5.518Z"})])])],-1)),Et={class:"table_orders"},Ut=h(()=>e("thead",null,[e("tr",null,[e("th",{style:{"text-align":"left"}},"Protocolo"),e("th",null,"Tipo"),e("th",{style:{"text-align":"left"}},"Serviço"),e("th",null,"Agendamento"),e("th",null,"Período"),e("th",{style:{"text-align":"left"}},"Status"),e("th",null,"Localidade"),e("th",null,"Aberta por"),e("th",null,"Setor"),e("th",null,"Solicitante"),e("th",null,"Aprovado por"),e("th",null,"Ações")])],-1)),Gt={style:{"text-align":"left"}},Nt={style:{"text-align":"left"}},Ht={class:"status"},qt=h(()=>e("td",null,null,-1)),Yt=["onClick"],Jt=h(()=>e("svg",{class:"actions_order",xmlns:"http://www.w3.org/2000/svg",id:"Outline",viewBox:"0 0 24 24",width:"512",height:"512"},[e("circle",{cx:"12",cy:"2",r:"2"}),e("circle",{cx:"12",cy:"12",r:"2"}),e("circle",{cx:"12",cy:"22",r:"2"})],-1)),Kt=[Jt],Qt=Z({__name:"DashboardScheduleCapacity",setup(t){const k=X(),S=u({}),x=()=>{k.setInfoPage({title:"Agenda Técnica Aniel",subtitle:"Aprove o excedente de ordens de serviço que não entraram no sistema por limitação do capacity."})};u("all");const r=u([]),v=new Date,$=v.getFullYear(),p=String(v.getMonth()+1).padStart(2,"0"),y=String(v.getDate()).padStart(2,"0"),A=`${$}-${p}-${y}`,l=u(A),g=u(""),b=u("all"),D=u([]),I=u(!1),i=()=>{R({url:"https://v2.ageportal.agetelecom.com.br/integrator/aniel/management-schedule/dashboard",method:"GET",params:{period:l.value},headers:{"Content-Type":"application/json",Authorization:"Bearer "+z.get("token")}}).then(c=>{r.value=c.data}).catch(c=>{console.log(c)})},_=U(()=>{const c=new Set;return r.value.forEach(s=>{s.status_order.some(f=>f.id===15)&&c.add(s.id)}),c.size}),w=U(()=>{const c=new Set;return r.value.forEach(s=>{s.status_order.some(f=>f.id===16)&&c.add(s.id)}),c.size}),O=U(()=>{const c=g.value.toString().toLowerCase();return r.value.filter(s=>{const f=s.protocolo.toLowerCase().includes(c);let a=!0;return b.value==="approved"?a=s.status_order[0].id===15:b.value==="rescheduled"?a=s.status_order[0].id===16:b.value==="pending"&&(a=s.status_order[0].id!==15&&s.status_order[0].id!==16),f&&a})});return i(),x(),(c,s)=>{const f=te("router-link");return d(),n("div",Ke,[e("div",Qe,[e("div",We,[M(f,{"exact-active-class":"select",to:"/ageIntegra/agenda-aniel",onClick:s[0]||(s[0]=a=>S.value="operational")},{default:G(()=>[m("Operacional")]),_:1}),M(f,{"exact-active-class":"select",to:"/ageIntegra/agenda-aniel/dashboard",onClick:s[1]||(s[1]=a=>S.value="dashboard")},{default:G(()=>[m("Dashboard")]),_:1}),M(f,{"exact-active-class":"select",to:"/ageIntegra/agenda-aniel/gerenciamento",onClick:s[2]||(s[2]=a=>S.value="management")},{default:G(()=>[m("Gerenciamento")]),_:1})])]),e("div",Xe,[e("div",et,[tt,e("div",st,[e("img",{src:L(de),alt:""},null,8,ot)])]),e("div",at,[e("div",lt,[dt,e("div",nt,[e("span",null,o(r.value.length),1),ct])]),e("div",rt,[e("img",{src:L(le),alt:""},null,8,it)])]),e("div",ut,[e("div",vt,[_t,e("div",ht,[e("span",null,o(_.value),1),pt])]),e("div",gt,[e("img",{src:L(ae),alt:""},null,8,mt)])]),e("div",St,[e("div",bt,[ft,e("div",$t,[e("span",null,o(w.value),1),yt])]),e("div",wt,[e("img",{src:L(ne),alt:""},null,8,Ct)])]),e("div",xt,[e("div",kt,[Ot,e("div",At,[e("span",null,o(r.value.length-_.value-w.value),1),It])]),e("div",Lt,[e("img",{src:L(oe),alt:""},null,8,Bt)])])]),e("div",Dt,[e("div",Mt,[(d(),n("svg",Tt,Rt)),N(e("input",{type:"number",placeholder:"Pesquisar (Protocolo)","onUpdate:modelValue":s[3]||(s[3]=a=>g.value=a)},null,512),[[q,g.value]])]),e("div",zt,[N(e("input",{type:"date",name:"period","onUpdate:modelValue":s[4]||(s[4]=a=>l.value=a),onChange:i},null,544),[[q,l.value]])]),e("div",Vt,[N(e("select",{name:"status",id:"status","onUpdate:modelValue":s[5]||(s[5]=a=>b.value=a)},Ft,512),[[ee,b.value]])]),jt]),e("div",Et,[e("table",null,[Ut,e("tbody",null,[(d(!0),n(T,null,P(O.value,(a,K)=>(d(),n("tr",{key:K},[e("td",Gt,"# "+o(a.protocolo),1),e("td",null,o(a.servico),1),e("td",Nt,o(a.subservico),1),e("td",null,o(a.hora_agendamento),1),e("td",null,o(a.periodo),1),e("td",null,[e("div",Ht,[e("div",{class:"badge",style:V({backgroundColor:a.status_order[0].cor_indicativa})},null,4),e("span",null,o(a.status_order[0].titulo),1)])]),e("td",null,o(a.localidade),1),e("td",null,o(a.aberta_por),1),e("td",null,o(a.setor),1),qt,e("td",null,o(a.aprovador),1),e("td",null,[e("div",{style:{cursor:"pointer"},onClick:Wt=>[D.value=a,I.value=!0]},Kt,8,Yt)])]))),128))])])]),M(Je,{modalStatus:I.value,onCloseModal:s[6]||(s[6]=a=>[I.value=!1,i()]),osSelected:D.value},null,8,["modalStatus","osSelected"])])}}}),es=E(Qt,[["__scopeId","data-v-c4273c6b"]]);export{es as default};
