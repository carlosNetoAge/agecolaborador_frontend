import{d as A,a as s,k as I,m as P,w as D,l as n,p as e,q as V,v as E,F as m,u as S,x as F,y as M,T as $,z as h,A as N,C as T,D as q,o,E as c,G as z,H as L,_ as O}from"./index-tcsVq-C9.js";import{_ as j}from"./DetailsSellerComponent.vue_vue_type_style_index_0_lang-DvYkyNTD.js";const y=d=>(z("data-v-90cacc8e"),d=d(),L(),d),G={key:0,class:"audit__container"},H={class:"options"},J=["disabled"],U=["value"],X={class:"table__container"},K=y(()=>e("thead",null,[e("tr",null,[e("th",null,"Executivo"),e("th",null,"Vendas"),e("th",null,"Comissão"),e("th",null,"Status")])],-1)),Q={key:0},W=["onClick"],Y=y(()=>e("td",null,[e("span",null,"Pendente")],-1)),Z=A({__name:"AuditPage",setup(d){const f=s({}),u=s("list"),g=s([]),r=s(!1),v=s(!1),i=s("2024-01-01"),b=s(""),B=I(),C=s([{label:"Janeiro de 2024",value:"2024-01-01"},{label:"Fevereiro de 2024",value:"2024-02-01"},{label:"Março de 2024",value:"2024-03-01"},{label:"Abril de 2024",value:"2024-04-01"}]),R=a=>{f.value=a,b.value=k(),u.value="details",console.log(a)},_=()=>{v.value=!0,r.value=!1,T({method:"get",url:"agerv/b2b/commission/financial/builder",headers:{"Content-Type":"application/json",Authorization:"Bearer "+q.get("token")},params:{period:i.value}}).then(a=>{g.value=a.data,r.value=!0,v.value=!1,p()}).catch(a=>{})};P(_),D(i,(a,l)=>{a!==l&&_()});const k=()=>{const a=new Date(i.value+1),l={month:"long",year:"numeric"};return`${a.toLocaleDateString("pt-BR",l)}`},x=()=>{p(),u.value="list"},p=()=>{B.setInfoPage({title:"Auditoria de vendas B2B - Referente à "+k(),subtitle:"Examine cada transação, garantindo precisão e integridade nas vendas."})};return p(),(a,l)=>(o(),n(m,null,[u.value==="list"?(o(),n("div",G,[e("div",H,[V(e("select",{onChange:_,"onUpdate:modelValue":l[0]||(l[0]=t=>i.value=t),disabled:v.value},[(o(!0),n(m,null,S(C.value,t=>(o(),n("option",{value:t.value,key:t.value},c(t.label),9,U))),128))],40,J),[[E,i.value]])]),e("div",X,[e("table",null,[K,F($,{name:"fade"},{default:M(()=>[r.value?(o(),n("tbody",Q,[(o(!0),n(m,null,S(g.value,(t,w)=>(o(),n("tr",{key:w,onClick:ee=>R(t)},[e("td",null,c(t.seller),1),e("td",null,c(t.contracts.dedicated+t.contracts.business),1),e("td",null,"R$ "+c((t.commissionDedicated+t.commissionBusiness).toFixed(2)),1),Y],8,W))),128))])):h("",!0)]),_:1})])])])):h("",!0),u.value==="details"?(o(),N(j,{key:1,onReturn:x,dataSeller:f.value,periodRefer:b.value},null,8,["dataSeller","periodRefer"])):h("",!0)],64))}}),se=O(Z,[["__scopeId","data-v-90cacc8e"]]);export{se as default};
