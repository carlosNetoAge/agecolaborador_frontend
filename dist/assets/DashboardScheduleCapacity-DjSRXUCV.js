import{d as E,k as j,a as i,O as x,l as r,q as t,y as A,z as P,J as p,E as l,u as S,W as B,v as q,F as O,x as U,S as d,A as T,C as L,D,K as H,o as u,M as J,G as K,H as R,N as W,_ as Y}from"./index-BgUERXH9.js";const Q="/assets/order_warning-CQvWwiF1.png",X="/assets/order_approval-bze_dPfJ.png",tt="/assets/order_surplus-BGa76hjP.png",et="/assets/order_all-C1TV9-7P.png",st="/assets/order_rescheduled-BmTKGCY8.png",o=h=>(K("data-v-f648e565"),h=h(),R(),h),ot={class:"dashboard__page"},lt={class:"options"},at={class:"navbar"},nt={class:"cards"},dt={class:"card"},ct=o(()=>t("div",{class:"info"},[t("div",{class:"title"},[t("p",null,"Ordens do dia")]),t("div",{class:"value"},[t("span",null," - "),t("span")])],-1)),it={class:"icon"},rt=["src"],ut={class:"card"},_t={class:"info"},vt=o(()=>t("div",{class:"title"},[t("p",null,"Ordens excedentes")],-1)),pt={class:"value"},ht=o(()=>t("span",null,null,-1)),gt={class:"icon"},mt=["src"],ft={class:"card"},wt={class:"info"},bt=o(()=>t("div",{class:"title"},[t("p",null,"Ordens aprovadas")],-1)),xt={class:"value"},St=o(()=>t("span",null,null,-1)),yt={class:"icon"},Ct=["src"],kt={class:"card"},At={class:"info"},Pt=o(()=>t("div",{class:"title"},[t("p",null,"Ordens reagendadas")],-1)),Bt={class:"value"},Ot=o(()=>t("span",null,null,-1)),Tt={class:"icon"},Lt=["src"],Dt={class:"card"},Vt={class:"info"},It=o(()=>t("div",{class:"title"},[t("p",null,"Ordens pendentes")],-1)),$t={class:"value"},zt=o(()=>t("span",null,null,-1)),Ft={class:"icon"},Mt=["src"],Nt={class:"actions"},Zt={class:"search"},Gt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 513.749 513.749",style:{"enable-background":"new 0 0 513.749 513.749"},"xml:space":"preserve",width:"512",height:"512"},Et=o(()=>t("g",null,[t("path",{d:"M504.352,459.061l-99.435-99.477c74.402-99.427,54.115-240.344-45.312-314.746S119.261-9.277,44.859,90.15   S-9.256,330.494,90.171,404.896c79.868,59.766,189.565,59.766,269.434,0l99.477,99.477c12.501,12.501,32.769,12.501,45.269,0   c12.501-12.501,12.501-32.769,0-45.269L504.352,459.061z M225.717,385.696c-88.366,0-160-71.634-160-160s71.634-160,160-160   s160,71.634,160,160C385.623,314.022,314.044,385.602,225.717,385.696z"})],-1)),jt=[Et],qt={class:"period"},Ut={class:"status"},Ht=W('<option value="all" data-v-f648e565>Todos</option><option value="surplus" data-v-f648e565>Excedentes</option><option value="approved" data-v-f648e565>Aprovado</option><option value="rescheduled" data-v-f648e565>Reagendas</option><option value="pending" data-v-f648e565>Pendentes</option>',5),Jt=[Ht],Kt=o(()=>t("div",{class:"clear"},[t("button",null,[t("svg",{xmlns:"http://www.w3.org/2000/svg",id:"Layer_1","data-name":"Layer 1",viewBox:"0 0 24 24"},[t("path",{d:"m17,0c-3.86,0-7,3.14-7,7s3.14,7,7,7,7-3.14,7-7S20.86,0,17,0Zm0,12c-2.757,0-5-2.243-5-5s2.243-5,5-5,5,2.243,5,5-2.243,5-5,5Zm2.957-6.543l-1.543,1.543,1.543,1.543-1.414,1.414-1.543-1.543-1.543,1.543-1.414-1.414,1.543-1.543-1.543-1.543,1.414-1.414,1.543,1.543,1.543-1.543,1.414,1.414Zm-7.957,9.025c.616.412,1.289.743,2,.995v8.523l-6-4.5v-5.12L0,5.38v-2.38C0,1.346,1.346,0,3,0h8.349c-.706.571-1.325,1.244-1.831,2H3c-.551,0-1,.449-1,1v1.62l8,9v4.88l2,1.5v-5.518Z"})])])],-1)),Rt={class:"table_orders"},Wt=o(()=>t("thead",null,[t("tr",null,[t("th",{style:{"text-align":"left"}},"Protocolo"),t("th",null,"Tipo"),t("th",{style:{"text-align":"left"}},"Serviço"),t("th",null,"Agendamento"),t("th",null,"Período"),t("th",{style:{"text-align":"left"}},"Status"),t("th",null,"Localidade"),t("th",null,"Aberta por"),t("th",null,"Setor"),t("th",null,"Solicitante"),t("th",null,"Aprovado por"),t("th",null,"Ações")])],-1)),Yt={style:{"text-align":"left"}},Qt={style:{"text-align":"left"}},Xt={class:"status"},te=o(()=>t("td",null,null,-1)),ee=["onClick"],se=o(()=>t("svg",{class:"actions_order",xmlns:"http://www.w3.org/2000/svg",id:"Outline",viewBox:"0 0 24 24",width:"512",height:"512"},[t("circle",{cx:"12",cy:"2",r:"2"}),t("circle",{cx:"12",cy:"12",r:"2"}),t("circle",{cx:"12",cy:"22",r:"2"})],-1)),oe=[se],le={key:0,class:"modal"},ae={class:"card"},ne={class:"close__btn"},de=o(()=>t("path",{d:"m12,0C5.383,0,0,5.383,0,12s5.383,12,12,12,12-5.383,12-12S18.617,0,12,0Zm3.707,14.293c.391.391.391,1.023,0,1.414-.195.195-.451.293-.707.293s-.512-.098-.707-.293l-2.293-2.293-2.293,2.293c-.195.195-.451.293-.707.293s-.512-.098-.707-.293c-.391-.391-.391-1.023,0-1.414l2.293-2.293-2.293-2.293c-.391-.391-.391-1.023,0-1.414s1.023-.391,1.414,0l2.293,2.293,2.293-2.293c.391-.391,1.023-.391,1.414,0s.391,1.023,0,1.414l-2.293,2.293,2.293,2.293Z"},null,-1)),ce=[de],ie=o(()=>t("h1",null,"Gerenciamento da Ordem de Serviço",-1)),re={class:"info"},ue=o(()=>t("b",null,"Protocolo:",-1)),_e=o(()=>t("b",null,"Servico:",-1)),ve=o(()=>t("b",null,"Tipo de serviço:",-1)),pe=o(()=>t("b",null,"Agendamento:",-1)),he=o(()=>t("b",null,"Periodo:",-1)),ge=o(()=>t("b",null,"Status:",-1)),me=o(()=>t("b",null,"Localidade:",-1)),fe={class:"options"},we=E({__name:"DashboardScheduleCapacity",setup(h){const V=j(),y=i({}),I=()=>{V.setInfoPage({title:"Agenda Técnica Aniel",subtitle:"Aprove o excedente de ordens de serviço que não entraram no sistema por limitação do capacity."})};i("all");const _=i([]),m=new Date,$=m.getFullYear(),z=String(m.getMonth()+1).padStart(2,"0"),F=String(m.getDate()).padStart(2,"0"),M=`${$}-${z}-${F}`,f=i(M),w=i(""),v=i("all"),n=i([]),g=i(!1),b=()=>{L({url:"https://v2.ageportal.agetelecom.com.br/integrator/aniel/management-schedule/dashboard",method:"GET",params:{period:f.value},headers:{"Content-Type":"application/json",Authorization:"Bearer "+D.get("token")}}).then(a=>{_.value=a.data}).catch(a=>{console.log(a)})},N=a=>{L({url:"https://v2.ageportal.agetelecom.com.br/integrator/aniel/management-schedule/approval-order",method:"POST",data:{order:a},headers:{"Content-Type":"application/json",Authorization:"Bearer "+D.get("token")}}).then(s=>{console.log(s),b(),g.value=!1,n.value=[]}).catch(s=>{console.log(s)})},C=x(()=>_.value.reduce((a,s)=>{const c=s.status_order.filter(e=>e.id===15).length;return a+c},0)),k=x(()=>_.value.reduce((a,s)=>{const c=s.status_order.filter(e=>e.id===16).length;return a+c},0)),Z=x(()=>{const a=w.value.toString().toLowerCase();return _.value.filter(s=>{const c=s.protocolo.toLowerCase().includes(a);let e=!0;return v.value==="approved"?e=s.status_order[0].id===15:v.value==="rescheduled"?e=s.status_order[0].id===16:v.value==="pending"&&(e=s.status_order[0].id!==15&&s.status_order[0].id!==16),c&&e})});return b(),I(),(a,s)=>{const c=H("router-link");return u(),r(O,null,[t("div",ot,[t("div",lt,[t("div",at,[A(c,{"exact-active-class":"select",to:"/ageIntegra/agenda-aniel",onClick:s[0]||(s[0]=e=>y.value="operational")},{default:P(()=>[d("Operacional")]),_:1}),A(c,{"exact-active-class":"select",to:"/ageIntegra/agenda-aniel/dashboard",onClick:s[1]||(s[1]=e=>y.value="dashboard")},{default:P(()=>[d("Dashboard")]),_:1})])]),t("div",nt,[t("div",dt,[ct,t("div",it,[t("img",{src:p(et),alt:""},null,8,rt)])]),t("div",ut,[t("div",_t,[vt,t("div",pt,[t("span",null,l(_.value.length),1),ht])]),t("div",gt,[t("img",{src:p(tt),alt:""},null,8,mt)])]),t("div",ft,[t("div",wt,[bt,t("div",xt,[t("span",null,l(C.value),1),St])]),t("div",yt,[t("img",{src:p(X),alt:""},null,8,Ct)])]),t("div",kt,[t("div",At,[Pt,t("div",Bt,[t("span",null,l(k.value),1),Ot])]),t("div",Tt,[t("img",{src:p(st),alt:""},null,8,Lt)])]),t("div",Dt,[t("div",Vt,[It,t("div",$t,[t("span",null,l(_.value.length-C.value-k.value),1),zt])]),t("div",Ft,[t("img",{src:p(Q),alt:""},null,8,Mt)])])]),t("div",Nt,[t("div",Zt,[(u(),r("svg",Gt,jt)),S(t("input",{type:"number",placeholder:"Pesquisar (Protocolo)","onUpdate:modelValue":s[2]||(s[2]=e=>w.value=e)},null,512),[[B,w.value]])]),t("div",qt,[S(t("input",{type:"date",name:"period","onUpdate:modelValue":s[3]||(s[3]=e=>f.value=e),onChange:b},null,544),[[B,f.value]])]),t("div",Ut,[S(t("select",{name:"status",id:"status","onUpdate:modelValue":s[4]||(s[4]=e=>v.value=e)},Jt,512),[[q,v.value]])]),Kt]),t("div",Rt,[t("table",null,[Wt,t("tbody",null,[(u(!0),r(O,null,U(Z.value,(e,G)=>(u(),r("tr",{key:G},[t("td",Yt,"# "+l(e.protocolo),1),t("td",null,l(e.servico),1),t("td",Qt,l(e.subservico),1),t("td",null,l(e.hora_agendamento),1),t("td",null,l(e.periodo),1),t("td",null,[t("div",Xt,[t("div",{class:"badge",style:J({backgroundColor:e.status_order[0].cor_indicativa})},null,4),t("span",null,l(e.status_order[0].titulo),1)])]),t("td",null,l(e.localidade),1),t("td",null,l(e.aberta_por),1),t("td",null,l(e.setor),1),te,t("td",null,l(e.aprovador),1),t("td",null,[e.status_order[0].id!=15?(u(),r("div",{key:0,style:{cursor:"pointer"},onClick:be=>[n.value=e,g.value=!0]},oe,8,ee)):T("",!0)])]))),128))])])])]),g.value?(u(),r("div",le,[t("div",ae,[t("div",ne,[(u(),r("svg",{onClick:s[5]||(s[5]=e=>g.value=!1),xmlns:"http://www.w3.org/2000/svg",id:"Layer_1","data-name":"Layer 1",viewBox:"0 0 24 24",width:"512",height:"512"},ce))]),ie,t("div",re,[t("p",null,[ue,d(" #"+l(n.value.protocolo),1)]),t("p",null,[_e,d(" "+l(n.value.servico),1)]),t("p",null,[ve,d(" "+l(n.value.subservico),1)]),t("p",null,[pe,d(" "+l(n.value.hora_agendamento),1)]),t("p",null,[he,d(" "+l(n.value.periodo),1)]),t("p",null,[ge,d(" "+l(n.value.status_order[0].titulo),1)]),t("p",null,[me,d(" "+l(n.value.localidade),1)])]),t("div",fe,[t("button",{onClick:s[6]||(s[6]=e=>N(n.value.protocolo)),style:{"background-color":"#11B15B"}},"Aprovar entrada")])])])):T("",!0)],64)}}}),Se=Y(we,[["__scopeId","data-v-f648e565"]]);export{Se as default};
